
<div id="secBasicContainerWrapper">

    <form novalidate dirty-tracking obj-type="contractData" class="contract-detail-form">
        <div class="row">
            <h4 class="col-md-3">Contract Details</h4>
            <span class="col-md-2 infospan"><span> * </span>Indicates Required filed</span>
        </div>

        <div class="row">
            <div class="col-md-6">
                <div class="col-md-12 row">
                    <h6>Customer Information</h6>
                </div>

                <div class="col-md-11 row">
                    <div op-control-flat
                         ng-model="contractData"
                         op-cd="'CUST_MBR_SID'"
                         op-type="'COMBOBOX'"
                         op-label="'Customer:'"
                         op-lookup-url="'/api/Customers/GetMyCustomerNames'"
                         op-lookup-text="'CUST_NM'"
                         op-lookup-value="'CUST_MBR_SID'"
                         op-selected-object="'Customer'"
                         op-ui-mode="'VERTICAL'"></div>
                    <div ng-if="!contractData.DC_ID > 0" class="decsription">{{constants.CustomerChangeMessage}}</div>
                </div>

                <div class="col-md-11 row"
                     op-control-flat
                     ng-model="contractData"
                     op-cd="'CUST_ACCNT_DIV'"
                     op-type="'MULTISELECT'"
                     op-label="'Division:'"
                     op-lookup-values="[]"
                     op-lookup-text="'CUST_DIV_NM'"
                     op-lookup-value="'CUST_DIV_NM'"
                     op-ui-mode="'VERTICAL'"></div>
            </div>
            <div class="col-md-6">
                <div class="col-md-12 row">
                    <h6>Customer Acceptance of Contract is...<span kendo-tooltip k-content="constants.helptipMsgCustAccpt" k-position="'top'" class="opElementHelpIcon intelicon-information-outlined"></span></h6>
                </div>
                <div class="col-md-11 row"
                     op-control-flat
                     ng-model="contractData"
                     op-cd="'CUST_ACCPT'"
                     op-type="'RADIOBUTTONGROUP'"
                     op-label="''"
                     op-lookup-url="'api/Dropdown/GetDropdowns/CUST_ACCPT'"
                     op-lookup-text="'DROP_DOWN'"
                     op-lookup-value="'ATRB_LKUP_SID'"
                     op-ui-mode="'VERTICAL'"></div>
            </div>
        </div>

        <div class="row">
            <div class="col-md-6">
                <div class="col-md-12 row">
                    <h6>Dates</h6>
                </div>
                <div class="col-md-11 row">
                    <div op-control-flat
                         ng-model="contractData"
                         op-cd="'START_DT'"
                         op-type="'DATEPICKER'"
                         op-label="'Select start date:'"
                         op-ui-mode="'HORIZONTAL'"></div>
                </div>
                <div class="clearboth orLabel">OR</div>
                <div class="row">
                    <div class="col-md-3 dateRangeLabel">
                        Select range
                    </div>
                    <div class="col-md-4">
                        <div class="col-md-11 row"
                             style="width: 200px;"
                             op-control-flat
                             ng-model="contractData"
                             op-cd="'START_QTR'"
                             op-type="'SLIDER'"
                             op-label="''"
                             op-min-value="1"
                             op-max-value="4"
                             op-ui-mode="'VERTICAL'"></div>
                    </div>
                    <div class="col-md-4">
                        <div class="col-md-11 row"
                             op-control-flat
                             ng-model="contractData"
                             op-cd="'START_YR'"
                             op-type="'NUMERIC'"
                             op-label="''"
                             op-min-value="contractData.MinYear"
                             op-max-value="contractData.MaxYear"
                             op-ui-mode="'VERTICAL'"></div>
                    </div>
                </div>
                <div class="col-md-11 row">
                    <div op-control-flat
                         ng-model="contractData"
                         op-cd="'END_DT'"
                         op-type="'DATEPICKER'"
                         op-label="'Select end date:'"

                         op-ui-mode="'HORIZONTAL'"></div>
                </div>
                <div class="clearboth orLabel">OR</div>
                <div class="row">
                    <div class="col-md-3 dateRangeLabel">
                        Select range
                    </div>
                    <div class="col-md-4">
                        <div class="col-md-11 row"
                             style="width: 200px;"
                             op-control-flat
                             ng-model="contractData"
                             op-cd="'END_QTR'"
                             op-type="'SLIDER'"
                             op-label="''"
                             op-min-value="1"
                             op-max-value="4"
                             op-ui-mode="'VERTICAL'"></div>
                    </div>
                    <div class="col-md-4">
                        <div class="col-md-11 row"
                             op-control-flat
                             ng-model="contractData"
                             op-cd="'END_YR'"
                             op-type="'NUMERIC'"
                             op-label="''"
                             op-min-value="contractData.MinYear"
                             op-max-value="contractData.MaxYear"
                             op-ui-mode="'VERTICAL'"></div>
                    </div>
                </div>
                <div>
                    <div class="col-md-11 row"
                         op-control-flat
                         ng-model="contractData"
                         op-cd="'BACK_DATE_RSN'"
                         op-type="'DROPDOWN'"
                         op-label="'Back Date Reason:'"
                         op-lookup-url="'api/Dropdown/GetDropdowns/BACK_DATE_RSN'"
                         op-lookup-text="'DROP_DOWN'"
                         op-lookup-value="'ATRB_LKUP_SID'"
                         op-ui-mode="'VERTICAL'"></div>
                    <div class="col-md-11 row"
                         op-control-flat
                         ng-model="contractData"
                         op-cd="'BACK_DATE_RSN_TXT'"
                         op-type="'TEXTAREA'"
                         op-label="'Back date reason text'"
                         op-ui-mode="'VERTICAL'"></div>
                </div>

            </div>
            <div class="col-md-6">
                <div class="col-md-12 row">
                    <h6>Information</h6>
                </div>

                <div class="col-md-11 row"
                     op-control-flat
                     ng-model="contractData"
                     op-cd="'TITLE'"
                     op-type="'TEXTBOX'"
                     op-label="'Contract Name:'"
                     op-ui-mode="'VERTICAL'"></div>

                <div class="col-md-11 row">
                     <div op-control-flat
                     ng-model="contractData"
                     op-cd="'C2A_DATA_C2A_ID'"
                     op-type="'TEXTBOX'"
                     op-label="'C2A# or link to contract:'"
                     op-ui-mode="'VERTICAL'"></div>
                <div ng-if="!contractData._behaviors.isHidden['C2A_DATA_C2A_ID']" class="decsription">{{constants.C2AIdDesc}}</div>
                </div>
                <!--TODO Move these to FileUploaddirective-->
                <div class="col-md-11 row">
                    <div class="f1 opUiLabel" ng-class="{isRequired: contractData.IsAttachmentRequired}">Attachment(s):&nbsp;<span kendo-tooltip k-content="constants.helptipMsgAttachment" k-position="'top'" class="opElementHelpIcon intelicon-information-outlined"></span></div>
                    <div ng-class="{fileAttachmentRequired: contractData.AttachmentError}">
                        <input class="fileAttachmentRequired" id="fileUploader"
                               type="file" name="files"
                               kendo-upload="files"
                               k-upload="filePostAddParams"
                               k-complete="onComplete"
                               k-error="onError"
                               k-select="onFileSelect"
                               k-remove="onFileRemove"
                               k-async="fileUploadOptions" />
                    </div>
                    <div ng-if="contractData.CUST_ACCPT != 99" class="decsription">{{constants.FileAttachementDesc}}</div>
                    <div ng-if="contractData.AttachmentError" class="err-Control">* field is required.</div>
                </div>
                <div class="col-md-11 row">
                    <uib-accordion close-others="oneAtATime">
                        <div uib-accordion-group class="panel-default accordion-panel" heading="File attachment details" is-open="status.isOpen">
                            <div id="fileAttachmentGrid" kendo-grid k-ng-delay="status.isOpen" style="height:150px;"
                                 footer-offset="500" options="fileAttachmentGridOptions"></div>
                        </div>
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col-md-6">
                <div class="col-md-12 row row">
                    <h6>Timeline</h6>
                </div>
            </div>
            <div class="col-md-6">
                <div class="col-md-12">
                    <h6 class="noBottemBorder">Notes</h6>
                </div>
                <div class="col-md-11"
                     op-control-flat
                     ng-model="contractData"
                     op-cd="'NOTES'"
                     op-type="'TEXTAREA'"
                     op-label="''"
                     op-ui-mode="'VERTICAL'"></div>
            </div>
        </div>
        <div class="row">
            <div class="col-md-offset-6">
                <button class="btn btn-primary" style="margin-left:30px;" type="button" ng-click="customContractValidate()">Save</button>
            </div>
        </div>

        <!--<pre style="font-size: 9px; font-family: arial;">{{contractData | json}}</pre>-->
    </form>

</div>
