<div ng-show="isBusy" class="ss-loading-overlay">
    <div class="ss-loading-panel" style="text-align: center;">
        <div class="spinner">
            <div class="rect1"></div>
            <div class="rect2"></div>
            <div class="rect3"></div>
            <div class="rect4"></div>
            <div class="rect5"></div>
        </div>
        <h2 ng-bind="isBusyMsgTitle"></h2>
        <p ng-bind="isBusyMsgDetail"></p>
    </div>
</div>

<div id="secContainerWrapper" ng-show="isAddStrategyHidden && isAddPricingTableHidden">
    <div id="secHeader">
        <div ng-show="curPricingTableId > 0" class="contractStratHeader col-md-11" style="padding-bottom: 5px;">
            <div class="fl textCircleMd valid_{{ curPricingTable.PASSED_VALIDATION }}">{{ curPricingTable.OBJ_SET_TYPE_CD | limitTo:1 }}</div>
            <div class="myDealsControl"
                 op-control-flat
                 ng-model="curPricingTable"
                 op-cd="'TITLE'"
                 op-type="'TEXTBOX'"
                 op-label="''"
                 op-ui-mode="'HORIZONTAL'"
                 op-class="'transparentInput fntLg noBottomBorder col-md-11'"
                 op-style="'color: #000000; width: 100%;'"></div>
            <div class="clearboth"></div>
        </div>
    </div>

    <div id="secContainer">
        <div class="smTabTitle smTabShowTerms" id="divTabTerms" style="display: none;" onclick="openSplitter()">
            <i class="intelicon-pin-solid ssmIconBtn"></i> Show Additional Discounts & Requirements
        </div>
        <div kendo-splitter
             k-panes="[null, { collapsible: true, min: '235px', size: '235px' }]"
             k-orientation="'vertical'"
             id="k-splitter"
             style="height: 100%; border: 0 solid transparent;">

            <div>
                <div ui-view="pricingTableView" class="fullHeight">
                    <div ng-include="'app/contract/partials/info.html'" style="overflow: auto !important;"></div>
                </div>
            </div>

            <div style="overflow: hidden;" class="wide noborder">
                <div id="subContainerWrapper">
                    <div id="subHeader">
                        <div class="fl" style="padding: 4px 10px;">
                            <i class="intelicon-pin-solid ssmIconBtn" onclick="closeSplitter()"></i>
                        </div>
                        <div class="fl" style="padding: 4px 0;">Additional Discounts & Requirements</div>
                        <div class="fl" style="padding: 6px 10px 0 10px; color: #aaaaaa; font-style: italic; font-size: 12px;">**Note that any updates made here are copied on all tables under this Pricing Strategy</div>
                        <div class="clearboth"></div>
                    </div>
                    <div id="subContainer">
                        <textarea kendo-editor
                                  k-ng-model="curPricingStrategy.TERMS"
                                  k-tools="['fontSize','bold','italic','underline','strikeThrough','justifyLeft','justifyCenter','justifyRight','justifyFull', 'insertUnorderedList','insertOrderedList','indent','outdent']"
                                  style="height: 100%;" class="noborderEditor"></textarea>
                    </div>
                </div>
            </div>

        </div>
    </div>

</div>

<div ng-show="!(isAddStrategyHidden && isAddPricingTableHidden)">
    <div ng-include="'app/contract/partials/help.html'"></div>
</div>


<style>
    .contractStratHeader {
        float: none !important;
    }

    .contractStratHeader .opUiContainer input.k-textbox, .contractStratHeader .opUiContainer input.k-textbox:hover {
        border-top-color: transparent;
        border-right-color: transparent;
        border-left-color: transparent;
        height: 30px;
        width: 100%;
    }

    .contractStratHeader .opUiContainer input.k-textbox:hover {
    }

    .contractStratHeader .myDealsControl {
        margin: -3px -50px 0 -10px;
        float: left;
        width: 100%;
    }
</style>

<script>
    function closeSplitter() {
        $("#k-splitter").data("kendoSplitter").collapse(".k-pane:last");
        $("#divTabTerms").show();
        $("#k-splitter").data("kendoSplitter").resize();
    }
    function openSplitter() {
        $("#k-splitter").data("kendoSplitter").expand(".k-pane:last");
        $("#divTabTerms").hide();
        $("#k-splitter").data("kendoSplitter").resize();
    }

    setTimeout(function () {
        closeSplitter();
    }, 2000);


</script>