<form style="margin-top: 10px;" class="form-horizontal" autocomplete="off">
    <loading-panel id="priceRuleLoading" style="z-index:500;" show="loading" header="vm.spinnerMessageHeader" description="vm.spinnerMessageDescription" ng-show="loading" is-show-fun-fact="vm.isBusyShowFunFact"></loading-panel>
    <div ng-include="'app/admin/rules/rulesSimulationModal.html'"></div>

    <div class="col-md-10">
        <h3>Auto-Approval Rules Administration Screen</h3>
    </div>
    <div ng-if="vm.toolKitHidden == false" class="col-md-2 ng-scope" style="">
        <h3 style="float:right"><a target="_blank" href="https://wiki.ith.intel.com/display/Handbook/Tender+Price+Rules" title="Intel wiki link for help"><i class="intelicon-help-solid" style="color:#3343a4"></i></a></h3>
    </div>
    <div class="row" style="padding: 0 0 0 15px;">
        <div class="col-md-6" style="text-align: left;">
            <p style="color: #FC4C02">This screen allows DA users to create automated approval rules to streamline their work</p>
        </div>
    </div>

    <div class="col-md-12">
        <!-- Grid buttons added by script below before styles -->
        <div id="ruleDetails" kendo-grid class="table ruleDetails opUiContainer md k-grid k-widget" expand-k-grid options="vm.gridOptions"></div>
    </div>   
    <div class="form-group row" id="productCriteria">&nbsp;</div>
</form>

<script id="grid_toolbar_addrulebutton" type="text/x-kendo-template">
    <a ng-if="!vm.toolKitHidden" role="button" class="k-button k-button-icontext k-grid-add" ng-click="vm.addNewRule()">
        <span class="k-icon k-i-plus" style="color: white !important"></span>Add New Rule
    </a>
    <a ng-if="vm.rid != 0 && !vm.toolKitHidden" role="button" class="k-button k-button-icontext k-grid-add" ng-click="vm.removeFilter()">
        <span class="k-icon intelicon-cancel-filter-solid" style="color: white !important"></span>Remove Filter
    </a>
    <a ng-if="!vm.toolKitHidden" role="button" class="k-button k-button-icontext k-grid-add" ng-click="vm.exportToExcel()">
        <span class="intelicon-ms-excel-outlined" style="margin-right:5px"></span>Export to Excel
    </a>
    <a role="button" class="k-button k-button-icontext k-grid-add" ng-click="vm.openRulesSimulation('test')">
        <span class="intelicon-lab" style="color: white !important; margin-right:5px"></span>Simulate Running Rules
    </a>
    <i id="btnWordWrapControl" class="intelicon-increase-text-outlined" title="Click me to Expand Cloumn"></i>
    <i id="btnEnlargeText" class="intelicon-expand" title="Click to Decrese Text size"></i>
</script>
<style>
    .rule_value_desc {
        font-weight: bold;
        color: #7d8803;
    }
    .rule_operator_desc {
        font-weight: bold;
        color: #b3b3b3;
    }
    .rule_attr_desc {
        font-weight: bold;
        color: #0071c5;
    }
    .classToggle {
        height: 20px;
    }
    #btnWordWrapControl{
        float: right;
        font-size: 30px !important;
        margin-top: 8px;
    }
    #btnEnlargeText {
        margin-right: 10px;
        border: 2px solid white;
        font-size: 16px !important;
        padding: 2px;
        border-radius: 3px;
        float: right;
        margin-top: 9px;
    }
    a:hover {
        text-decoration: none;
    }
    .k-button {
        cursor: pointer !important;
    }

    .k-grid-toolbar > .k-grid-add > .k-icon {
        font-size: 14px !important;
        margin-top: 1px;
    }

    .btn-success {
        color: #000000;
        background-color: #C4D600 !important;
        border-color: #adbd00 !important;
    }
        
    .btn-success[disabled] {
        color: #b1babf;
        background-color: #edeff0 !important;
        border-color: #b1babf !important;
    }

    #spreadsheetProductCriteria {
        border: none;
    }

        #spreadsheetProductCriteria .k-dirty-cell {
            border: none !important;
            color: red !important;
        }

        #spreadsheetProductCriteria .k-spreadsheet-formula-bar, #spreadsheetProductCriteria .k-spreadsheet-name-editor {
            display: none !important;
        }


    .clrGreen {
        color: #2196f3 !important;
    }

    .clrRed {
        color: #ff5722 !important;
    }

    .btnYellow {
        color: #F3D54E !important;
    }
    /**/
    .k-grid td, .k-grid td div {
        text-overflow: ellipsis;
        white-space: nowrap;
        overflow: hidden;
    }
    
    .toggle-accept {
        width: 75% !important;
    }

    .k-grid td {
        height: 30px !important;
    }

    div.k-spreadsheet-formula-bar,
    .k-spreadsheet-top-corner, .k-spreadsheet-row-header {
        display: block !important;
    }

    .k-spreadsheet-cell-context-menu li:nth-child(5), .k-spreadsheet-cell-context-menu li:nth-child(4) {
        display: none;
    }

    /*.k-spreadsheet-action-bar {
        display: none !important;
    }*/

    /*.k-spreadsheet-fixed-container {
        margin-left: -33px;
    }*/

    .k-grid-header, .k-grid-header .k-header, .k-pager-wrap, .k-pager-numbers .k-state-selected, .k-grid-footer, .k-grid-footer td, .k-scheduler-header, .km-pane-wrapper .k-grid-header .k-header {
        background-color: #ffffff !important;
    }

        #secEngineGrid.k-grid .k-filter-row th, .k-grid-header th.k-header {
            font-size: 12px;
            border-bottom: solid #dedede 2px;
        }

    .k-grid .k-icon {
        color: #3343a4 !important;
        opacity: 1;
    }

    .k-grid .k-alt {
        background-color: rgba(241, 241, 241, 0.17) !important;
    }

    .dealTools .md-icon {
        padding: 4px 0 0 5px;
    }

    .true {
        background-color: rgb(196, 214, 0) !important;
    }

    .isRequired:before {
        content: "*";
    }

    .dealTools .md-icon i {
        color: #00AEEF !important;
    }

        .dealTools .md-icon i:hover {
            color: #003C71 !important;
        }

    .dealTools .md-icon-disabled {
        padding: 4px 2px 0 1px;
    }

        .dealTools .md-icon-disabled i {
            color: #00AEEF;
        }

    .dealTools {
        /*margin-left: -5px !important;*/
    }

    .dealTools {
        line-height: 1.8em;
        height: 100% !important;
        width: 100%;
    }

    .dealTools .gridStatusMarker {
        font-family: arial;
    }

    .dealTools a {
        text-decoration: none;
    }

    .dealTools i:hover {
        color: #003C71;
    }

    .gridStatusMarker {
        width: 16px;
        color: #000000;
        background-color: #cccccc;
        font-size: 14px;
        font-weight: 600;
        padding: 4px 2px 4px 7px;
        margin-left: -10px;
        margin-right: 5px;
    }

    .gridStatusMarker.Working {
        color: #000000;
        background-color: #FFA300;
    }

    .gridStatusMarker.Active {
        color: #000000;
        background-color: #C4D600;
    }

    .gridStatusMarker.Cancelled {
        color: #000000;
        background-color: #cccccc;
    }

    .dealTools .md-icon {
        padding: 4px 0 0 5px;
    }

    .ruleName {
        cursor: pointer;
    }

    .ruleName:hover {
        color: #abadaf;
    }

    .k-tabstrip-wrapper, .k-tabstrip-bottom, .k-spreadsheet-sheets-bar-add {
        display: none;
    }

    .k-button {
        color: #fff;
        background-color: #0071c5;
        border-color: #0071c5;
        box-shadow: none;
    }

    .k-button:hover {
        background-color: #00aeef;
        border-color: #00aeef;
        color: #fff;
        box-shadow: none;
    }

    .tmpltItem {
        width: 100%;
    }

    .tmpltIcn {
        width: 35px;
    }

        .tmpltIcn i {
            font-size: 26px;
        }

    .tmpltContract {
    }

    .tmpltRole {
        font-size: 12px;
    }

    .tmpltPrimary {
        font-size: 14px;
        line-height: 1.1em;
    }

    .tmpltSecondary {
        font-size: 12px;
        line-height: 1.1em;
        opacity: 0.6;
    }

    .toggle {
        width: 100% !important;
    }

    .rulesGidIcon {
        font-size: 20px;
        margin: 2px;
        color: #aaa;
        margin-right: 5px;
    }

    .action_btns {
        margin-bottom: 20px;
    }

    .abValue {
        max-width: 58%;
    }
</style>
<script>
    $(document).ready(function () {
        $('#bodyContent').attr('style', 'overflow: auto !important');
        $($('.k-grid-header-wrap .k-hierarchy-cell').find('th')[0]).html('<a class="k-icon k-i-expand" href="#" tabindex="-1"></a>');

        $('#btnWordWrapControl').click(function (e) { 
            if ($('#btnWordWrapControl').attr('class').trim() == 'intelicon-decrease-text-outlined') {
                $('#btnWordWrapControl').removeClass('intelicon-decrease-text-outlined').addClass('intelicon-increase-text-outlined');
                $('.btnHandle').addClass('classToggle');
                $('#btnWordWrapControl').attr('title', 'Click me to Expand Cloumn');
            } else {
                $('#btnWordWrapControl').removeClass('intelicon-increase-text-outlined').addClass('intelicon-decrease-text-outlined');
                $('.btnHandle').removeClass('classToggle');
                $('#btnWordWrapControl').attr('title', 'Click me to remove Expand column');
            }
        }); 
        $('#btnEnlargeText').click(function (e) {
            if ($('#btnEnlargeText').attr('class').trim() == 'intelicon-expand') {
                $('#btnEnlargeText').removeClass('intelicon-expand').addClass('intelicon-shrink');
                $('#ruleDetails').removeClass('opUiContainer sm k-grid k-widget').addClass('opUiContainer md k-grid k-widget');
                $('#btnEnlargeText').attr('title', 'Click me to Decrease Text size');
            } else {
                $('#btnEnlargeText').removeClass('intelicon-shrink').addClass('intelicon-expand');
                $('#ruleDetails').removeClass('opUiContainer md k-grid k-widget').addClass('opUiContainer sm k-grid k-widget');
                $('#btnEnlargeText').attr('title', 'Click me to Increase Text size');
            }
        });
    });    
</script>
