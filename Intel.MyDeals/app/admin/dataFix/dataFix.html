<div class="form-group row" id="data_fix">
    <div class="form-group row" style="padding: 0 0 0 15px;">
        <div class="col-md-6" style="text-align: left;">
            <p style="color: #FC4C02">This screen allows SA users to fix the data without EDCAP approval</p>
        </div>
    </div>
    <div ng-if="vm.IsEditMode">
        <div class="form-group row">
            <label class="control-label isRequired col-md-1" autocomplete="off">Incident # :</label>
            <div class="col-md-3">
                <input class="form-control md" type="text" ng-model="vm.currentDataFix.IncidentNumber" style="width:100%">
            </div>
        </div>
        <div class="form-group row">
            <label class="control-label isRequired col-md-1">Attributes : </label>
            <div class="col-md-11">
                <div ng-if="vm.AttributeSettings.length > 0 && vm.OpDataElements.length > 0 && vm.MyCustomersInfo.length > 0" 
                     datafix-attribute-builder attribute-settings="vm.AttributeSettings" opdata-elements="vm.OpDataElements" 
                     my-customers-info="vm.MyCustomersInfo" selected-datafix-attributes="vm.currentDataFix.DataFixAttributes">
                </div>
                <span ng-if="!(vm.AttributeSettings.length > 0 && vm.OpDataElements.length > 0 && vm.MyCustomersInfo.length > 0)">Loading attributes..</span>
            </div>
        </div>
        <div class="form-group row">
            <label class="control-label isRequired col-md-1">Actions : </label>
            <div class="col-md-11">
                <div ng-if="vm.OpDataElements.length > 0 && vm.Actions.length > 0" datafix-action-builder opdata-elements="vm.OpDataElements" actions="vm.Actions" selected-datafix-actions="vm.currentDataFix.DataFixActions">
                </div>
                <span ng-if="!(vm.OpDataElements.length > 0 && vm.Actions.length > 0)">Loading actions..</span>
            </div>
        </div>
        <div class="form-group row">
            <label class="control-label isRequired col-md-1" autocomplete="off">Message : </label>
            <div class="col-md-6">
                <input class="form-control md" type="text" ng-model="vm.currentDataFix.Message" style="width:100%">
            </div>
            <div class="col-md-5">
                <button class="btn btn-primary" style="margin-left: 15px">Execute</button>
                <button ng-click="vm.SaveFix()" class="btn btn-primary" style="margin-left: 15px">Save</button>
                <button ng-click="vm.ok()" class="btn btn-primary" style="margin-left: 15px">Cancel / Close</button>
            </div>
        </div>
        <div class="form-group row">
            <label class="control-label col-md-1">Results : </label>
            <div class="col-md-4">
                <span>Under construction!</span>
            </div>
        </div>
    </div>
    <div class="row col-md-12" ng-if="!vm.IsEditMode">
        <div kendo-grid="dataFixGrid" class="table vistex-grid" expand-k-grid options="vm.gridOptions">
            <div class="k-header k-grid-toolbar ng-scope">
                <a role="button" class="k-button k-button-icontext k-grid-add ng-scope" ng-click="vm.addNewFix()">
                    <span class="k-icon k-i-plus" style="color: white !important"></span>Add New Fix
                </a>
            </div>
        </div>
    </div>
</div>
<style>
    #data_fix {
        margin-left: 20px;
        margin-top: 10px;
    }

        #data_fix .control-label {
            text-align: right;
        }

        #data_fix .toggle.btn {
            min-width: 100px;
        }
</style>