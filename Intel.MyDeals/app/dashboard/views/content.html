<div class="dashboard" ng-if="dashboardData.currentWidgets.length > 0">
    <div gridster="gridsterOptions">
        <ul>
            <li gridster-item row="widget.position.row" col="widget.position.col" id="{{widget.id}}" size-x="widget.size.x" size-y="widget.size.y" ng-repeat="widget in dashboardData.currentWidgets">
                <div class="box" ng-controller="CustomWidgetCtrl">
                    <div class="box-header">
                        <h3>{{ (widget.name == 'Search My Deals Contracts')?'Search My Deals Report(s)':widget.name }}</h3>
                        <div class="box-header-btns pull-right">
                            <a title="Refresh Widget" ng-show="widget.canRefresh" ng-click="refreshSingleWidget(widget)"><i class="intelicon-refresh"></i></a>
                            <a title="Widget Settings" ng-show="widget.canChangeSettings" ng-click="openSettings(widget)"><i class="intelicon-settings-solid"></i></a>
                            <a title="Remove widget" ng-click="remove(widget)"><i class="intelicon-trash-outlined"></i></a>
                        </div>
                    </div>
                    <div class="box-content" ng-include="widget.template" style="overflow: auto !important;"></div>
                </div>
            </li>
        </ul>
    </div>
</div>

<div ng-if="dashboardData.currentWidgets.length == 0">
    <p style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); font-size:16px; margin-bottom:30px">No widgets are being shown.</p>
    <p style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); font-size:16px; margin-top:30px"><a href="#" ng-click="openAddWidget()">Click to add a widget</a></p>
</div>

<script type="text/x-kendo-tmpl" id="templateWbDealPie">
    #
    var NUM_DEALS = 50;
    var NUM_PREP_DEALS = 125;
    var perc = (NUM_DEALS + NUM_PREP_DEALS) == 0 ? 0 : (NUM_DEALS / (NUM_DEALS + NUM_PREP_DEALS)) * 100;
    perc = Math.round(perc * 100) / 100;
    #
    <div>
        <div class="wbDealPie fl"></div>
        <div class="fl" style="margin-left: 5px;">#:perc#<span style="font-family: verdana;">%</span></div>
        <div class="clearboth"></div>
    </div>
</script>

<div id="copyCntrctDlg"></div>
