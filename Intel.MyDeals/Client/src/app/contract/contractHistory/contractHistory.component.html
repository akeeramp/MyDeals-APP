<link href="/Client/node_modules/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet" />
<link href="/Client/node_modules/@progress/kendo-theme-bootstrap/dist/all.css" rel="stylesheet" />
<link href="/Client/node_modules/@angular/material/prebuilt-themes/indigo-pink.css" rel="stylesheet" />
<link href="/Client/src/app/admin/kendo_grid.css" rel="stylesheet" />

<div *ngIf="isLoading" style="height:100vh"></div>

<div *ngIf="!isLoading" class="row">
    <div class="col-md-12 contract_h_align" >
        <h3 class="header_text_fix" >Contract History</h3>
        <hr class="header_b_line" >
    </div>
    <div class="col-md-12 kendo-grid-buttons oppo-grids CTgrid_lR">
        <kendo-grid [data]="gridData" [loading]="isLoading" [pageSize]="state.take" [skip]="state.skip"
                    [sort]="state.sort" [filter]="state.filter" [sortable]="true"
                    [pageable]="{type:type,pageSizes: pageSizes,info:info}" [groupable]="false"
                    [group]="state.group" filterable="menu" (dataStateChange)="dataStateChange($event)" class="contract-history-style CH_height">
            <kendo-grid-column [headerClass]="{'headerClass':true}" field="OBJ_DESC" title="Object Type" width="140px">
                <ng-template kendoGridFilterMenuTemplate let-column="column" let-filter="filter"
                             let-filterService="filterService">
                    <multicheck-filter [isPrimitive]="true" [field]="column.field" [currentFilter]="filter"
                                       [filterService]="filterService" [data]="distinctPrimitive(column.field)"></multicheck-filter>
                </ng-template>
            </kendo-grid-column>
            <kendo-grid-column [headerClass]="{'headerClass':true}" field="OBJ_SID" title="Object Id" width="120px">
                <ng-template kendoGridFilterMenuTemplate let-column="column" let-filter="filter"
                             let-filterService="filterService">
                    <multicheck-filter [isPrimitive]="true" [field]="column.field" [currentFilter]="filter"
                                       [filterService]="filterService" [data]="distinctPrimitive(column.field)"></multicheck-filter>
                </ng-template>
            </kendo-grid-column>
            <kendo-grid-column [headerClass]="{'headerClass':true}" field="ATRB_VAL" title="Comment Detail" width="250px">
            </kendo-grid-column>
            <kendo-grid-column [headerClass]="{'headerClass':true}" field="FRST_NM" title="Changed By" width="180px">
                <ng-template kendoGridFilterMenuTemplate let-column="column" let-filter="filter"
                             let-filterService="filterService">
                    <multicheck-filter [isPrimitive]="true" [field]="column.field" [currentFilter]="filter"
                                       [filterService]="filterService" [data]="distinctPrimitive(column.field)"></multicheck-filter>
                </ng-template>
                <ng-template kendoGridCellTemplate let-dataItem="dataItem">
                    <div>
                        {{dataItem.FRST_NM}}&nbsp;{{dataItem.LST_NM}}&nbsp;({{dataItem.USR_ROLES}})&nbsp;({{dataItem.CHG_EMP_WWID}})
                    </div>
                </ng-template>
            </kendo-grid-column>
            <kendo-grid-column [headerClass]="{'headerClass':true}" field="HIST_EFF_FR_DTM" title="Date Changed" width="160px">
            </kendo-grid-column>
        </kendo-grid>
    </div>
</div>
<loading-panel-angular id="contractHistoryLoad" style="z-index: 500" [show]="isLoading" [header]="loadMessage"></loading-panel-angular>