<link href="/Client/node_modules/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet" />
<link href="/Client/node_modules/@progress/kendo-theme-bootstrap/dist/all.css" rel="stylesheet" />
<link href="/Client/node_modules/@angular/material/prebuilt-themes/indigo-pink.css" rel="stylesheet" />
<link href="/Client/src/app/admin/kendo_grid.css" rel="stylesheet" />
<loading-panel-angular class="myLoader folioloader" style="margin:auto !important" [show]="isLoading" [header]="spinnerMessageHeader" [description]="spinnerMessageDescription" [msgType]="'Info'" [isShowFunFact]="false">
</loading-panel-angular>
<div class="tender-modals">
    <nav class="navbar navbar-default rmv-padding">
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-6">
            <div class="navbar-header">
                <i class="intelicon-dashboard-solid navbar-logo" style="font-size: 25px; color: white;"></i><a class="navbar-brand" href="#">Tender Folio Details</a>
            </div>
            <ul class="nav navbar-nav navbar-right" style="margin-right: -15px !important;">
                <li><a href="" (click)="dismissPopup()"><i class="intelicon-close-max"></i></a></li>
            </ul>
        </div>
    </nav>
    <div class="secBasicContainerWrapper rmv-padding mdl-cntnt-height">
        <div id="secContainer">
            <div class="row">
                <span class="col-md-3 infospan"><span>* </span>Indicates Required fields</span>
            </div>
            <form class="contract-detail-form">
                <div class="container-fluid">
                    <div class="row ">
                        <div class="col-md-12">
                            <div class="col-md-12 row">
                                <h6 class="rmv-padding">{{contractType}} Information</h6>
                            </div>
                            <div class="col-md-11 row">
                                <label class="rmv-mrgn-btm">
                                    <span class="red-color">
                                        *
                                    </span><span class="label-font">Customer:</span>
                                </label><br />
                                <kendo-combobox class="combobox width-height mycombox contract-details-customer align-text-combo-box focus-align-combo-box closed-alignment-fixes" [(ngModel)]="custSIDObj" [kendoDropDownFilter]="filterSettings" [data]="Customers" [ngClass]="{tenderFolioAlert:isCustSelected}" (valueChange)="valueChange($event)" textField="CUST_NM" valueField="CUST_SID"
                                                [ngModelOptions]="{standalone: true}">
                                </kendo-combobox>
                                <div *ngIf="isCustSelected" class="err-Control">
                                    Please select a valid customer
                                </div>
                                <kendo-dialog *ngIf="showKendoAlert" (close)="closeKendoAlert()" [height]="155" [width]="245" class="k-dialog-popup-design">
                                    <p>Missing Price Group Code</p>
                                    <kendo-dialog-actions>
                                        <button kendoButton (click)="closeKendoAlert()" class="kendo-alrt-btn myalertprice cancel-btn-pop-up">OK</button>
                                    </kendo-dialog-actions>
                                </kendo-dialog>
                            </div>
                            <div *ngIf="isCustDiv" class="col-md-11 row">
                                <div *ngIf="isCustDiv">
                                    <label class="rmv-mrgn-btm"><span>Division:</span></label><br />
                                    <kendo-multiselect class="division-name style-both-clas divineo-one" #cmbmulti [kendoDropDownFilter]="filterSettings" [data]="selectedData" textField="CUST_DIV_NM" valueField="CUST_DIV_NM" [(ngModel)]="CUST_NM_DIV" [ngModelOptions]="{standalone: true}" [autoClose]="false"></kendo-multiselect>
                                    <div class="description">Blank means that ALL divisions are included</div>
                                </div>
                            </div>
                            <kendo-dialog *ngIf="showCustDivAlert" (close)="closeCustDivsAlert()" [height]="155" [width]="590" class="k-dialog-popup-design">
                                <div>The division is blank. Do you intend for this contract to apply to all divisions?</div>
                                <kendo-dialog-actions class="dialog-action">
                                    <button kendoButton (click)="saveWithoutCustDivs()" class="ok-btn-pop-up line-height-unset">OK</button>
                                    <button kendoButton (click)="closeCustDivsAlert()" class="cancel-btn-pop-up line-height-unset">CANCEL</button>
                                </kendo-dialog-actions>
                            </kendo-dialog>
                            <div class="col-md-11 row">
                                <label class="rmv-padding rmv-mrgn-btm">
                                    <span class="red-color">
                                        *
                                    </span><span class="label-font">Tender Folio Name:</span>
                                </label><br /><input class="inputtext width-height style-both-clas" [ngClass]="{tenderFolioAlert:isTitleError}" [(ngModel)]="tenderName" (keyup)="onKeySearch($event)" type="text"
                                                     kendoTextBox [ngModelOptions]="{standalone: true}" style="padding: 2px 10px !important;" />
                                <div class="err-Control" *ngIf="isTitleError">{{titleErrorMsg}}</div>
                            </div>
                            <span *ngIf="!isCopyTender">
                                <div *ngFor="let value of PtDealTypes" class="pdng-lft">
                                    <div id="btnSel{{value.name}}" class="fl circleWithText" (click)="selectPtTemplateIcon(value)" [ngClass]="{active: value._custom._active}">
                                        <div class="fl textCircle blueBg" [ngClass]="{activeCircle: value._custom._active}">{{ value._custom.ltr}} </div>
                                        <div class="fl textName" [ngClass]="{activeText: value._custom._active}">
                                            {{value.name}}
                                        </div>
                                        <div class="clearboth"></div>
                                    </div>
                                </div>
                            </span>
                        </div>
                    </div>
                </div>
            </form>
        </div>
    </div>
    <div id="secFooter">
        <button class="tndr-btn btn" type="button" (click)="ValidateTender()"><span *ngIf="!isCopyTender">Create Tender Folio</span><span *ngIf="isCopyTender">Copy</span></button>
    </div>
    <kendo-dialog *ngIf="showCopyAlert" (close)="closeCopyAlert()" [height]="155" [width]="245">
        <div class="kendoAlert">Unable to successfully create the Tender Copies.</div>
        <kendo-dialog-actions>
            <div kendoButton (click)="closeCopyAlert()" class="kendo-alrt-btn myalertprice">OK</div>
        </kendo-dialog-actions>
    </kendo-dialog>
</div>