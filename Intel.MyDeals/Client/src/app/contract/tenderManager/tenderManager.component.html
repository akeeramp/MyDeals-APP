<link href="/Client/node_modules/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet" />
<link href="/Client/node_modules/@progress/kendo-theme-bootstrap/dist/all.css" rel="stylesheet" />
<link href="/Client/node_modules/@angular/material/prebuilt-themes/indigo-pink.css" rel="stylesheet" />
<link href="/Client/src/app/admin/kendo_grid.css" rel="stylesheet" />

<div *ngIf="pricingTableData != undefined" class="pricing-strategy-status-bar fl" style="margin-top: 20px; position: absolute; margin-left: -5px; left: 0px;">
    <div class="valid_{{pricingTableData.PRC_ST[0].PASSED_VALIDATION}}" style="padding: 5px 8px;float:left">
        <span class="contractHeaderId">#{{ contractData.DC_ID }} </span>
        <span>{{contractData.Customer.CUST_NM}}: </span>
        <span>{{contractData.TITLE}}</span>	&nbsp;&nbsp;
    </div>
    <button class="ng-scope btn btn-primary deleteContract" (click)="deleteContract()" title='Delete Contract'>
        <i class="intelicon-trash-outlined deleteIcon" style="margin-left: 4px;font-size: 16px;" title='Delete Contract'></i>&nbsp;
    </button>
</div>

<div class="pricing-strategy-status-bar fr" style="margin-top: 20px; padding-right: 0px;" *ngIf="pricingTableData != undefined">
    <div class="valid_{{pricingTableData.PRC_ST[0].PASSED_VALIDATION}}" style="padding: 5px 8px;"><span style="opacity: 0.5;">TENDER SHEET:</span> {{ pricingTableData.PRC_ST[0].WF_STG_CD }}</div>
</div>

<div class="row wizard" style="padding-top: 50px;" *ngIf="pricingTableData != undefined">
    <div class="col-xs-3 col-md-3">
        <div class="wizard-panel first" [ngClass]="{'complete': isPTRPartiallyComplete() == true }">
            <a id="tenderWidPTR" (click)="tenderWidgetPathManager('backToPricingTable', 'PTR')">
                <span class="badge wizard-step" [ngStyle]="selectedTab == 'PTR'?{'background-color': '#0071c5', 'color':'#FBD737'} : {'background-color': '#00AEEF', 'color': '#ffffff'}">1</span>
            </a>
        </div>
        <a (click)="tenderWidgetPathManager('backToPricingTable', 'PTR')">
            <div class="wizard-step-text step-into">
                <h4><i [hidden]="selectedTAB == 'PTR'" class="intelicon-arrow-forward-right "></i> &nbsp;Tender Table Editor</h4>
                <p>Adhoc Tender Table Editor Manager</p>
            </div>
        </a>
    </div>
    <div class="col-xs-3 col-md-3">
        <div class="wizard-panel second" [ngClass]="{'complete': forDE() == true}">
            <span id="tenderWidDE" class="badge wizard-step" [ngStyle]="selectedTab == 'DE'?{'background-color': '#0071c5', 'color':'#FBD737'} : {'background-color': 'edeff0'}" (click)="tenderWidgetPathManager('publishWipDealsFromTab', 'DE')" [ngClass]="{'isDisabledDE': isPTREmpty == true}">2</span>
        </div>
        <a (click)="tenderWidgetPathManager('publishWipDealsFromTab', 'DE')" [ngClass]="{'isDisabledDE': isPTREmpty == true}">
            <div class="wizard-step-text step-into">
                <h4><i [hidden]="selectedTAB == 'DE'" class="intelicon-arrow-forward-right "></i> &nbsp; Deal Editor</h4>
                <p>Adhoc Tender Deal Editor Manager</p>
            </div>
        </a>
    </div>
    <div class="col-xs-3 col-md-3">
        <div class="wizard-panel third" [ngClass]="{'complete': forMC() == true && forDE() == true}">
            <span id="tenderWidMC" class="badge wizard-step" (click)="tenderWidgetPathManager('', 'MC')" [ngStyle]="selectedTab == 'MC'?{'background-color': '#0071c5', 'color':'#FBD737'} : {'background-color': 'edeff0'}" [ngClass]="{'isDisabled': isPTREmpty == true}">3</span>
        </div>
        <a (click)="tenderWidgetPathManager('', 'MC')" [ngClass]="{'isDisabled': isPTREmpty == true}">
            <div class="wizard-step-text step-into">
                <h4><i [hidden]="selectedTAB == 'MC'" class="intelicon-arrow-forward-right "></i> &nbsp; Meet Comp</h4>
                <p>Tender Meet Comp Manager</p>
            </div>
        </a>
    </div>
    <div class="col-xs-3 col-md-3">
        <div class="wizard-panel last publishToolTip" [ngClass]="{'complete':selectedTab == 'PD'}">
            <span id="tenderWidPD" class="badge wizard-step" [ngStyle]="selectedTab == 'PD'?{'background-color': '#0071c5', 'color':'#FBD737'} : {'background-color': 'edeff0'}" (click)="tenderWidgetPathManager('', 'PD')" [ngClass]="{'isDisabled': forMC() != true && forDE() != true}">4</span>
            <span ngbTooltip="Publishing will separate the deals entered in the table below so that they can be individually approved." placement="left" tooltipClass="toolTipReq" class="opElementHelpIcon intelicon-information-outlined"></span>
        </div>
        <a (click)="tenderWidgetPathManager('', 'PD')" [ngClass]="{'isDisabled': forMC() != true && forDE() != true}">
            <div class="wizard-step-text step-into">
                <h4><i [hidden]="selectedTAB == 'PD'" class="intelicon-arrow-forward-right"></i> &nbsp; Publish Adhoc Deal</h4>
                <p>Converting into individual deals.</p>
            </div>
        </a>
    </div>
</div>
<div *ngIf="selectedTab == 'PTR' && !isLoading  && pricingTableData != undefined" class="col-md-12 parent-one loaderPTE">
    <pricing-table-editor [in_Cid]="c_Id" [in_Ps_Id]="ps_Id" [in_Pt_Id]="pt_Id" [contractData]="contractData" [UItemplate]="UItemplate" (warn)="isWarning" (tmDirec)="redirectingFn($event)">
    </pricing-table-editor>
</div>
<div *ngIf="selectedTab == 'DE'" class="col-md-12 loaderDE">
    <deal-editor [in_Cid]="c_Id" [in_Ps_Id]="ps_Id" [in_Pt_Id]="pt_Id" [contractData]="contractData" [UItemplate]="UItemplate" (tmDirec)="redirectingFn($event)">
    </deal-editor>
</div>
<div *ngIf="selectedTab == 'MC'" class="col-md-12 loaderMeet">
    <meet-comp-contract [objSid]="contractData.DC_ID" [isTender]="contractData.IS_TENDER" [isAdhoc]="'1'" [objTypeId]="'1'" [lastMeetCompRun]="contractData.LAST_COST_TEST_RUN" [pageNm]="'WIDGET'" (tmDirec)="redirectingFn($event)">
    </meet-comp-contract>
</div>
<div *ngIf="selectedTab == 'PD'" class="col-md-12 loadpublish">
    <publish-tender [pricingTableData]="pricingTableData"></publish-tender>
</div>