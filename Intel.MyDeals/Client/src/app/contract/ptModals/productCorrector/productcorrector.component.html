<link href="/Client/node_modules/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet" />
<link href="/Client/node_modules/@progress/kendo-theme-bootstrap/dist/all.css" rel="stylesheet" />
<link href="/Client/node_modules/@angular/material/prebuilt-themes/indigo-pink.css" rel="stylesheet" />
<link href="/Client/src/app/contract/ptModals/productCorrector/productcorrector.component.css" rel="stylesheet" />
<link href="/Client/src/app/style/productCorrector.css" rel="stylesheet" />

<div class="modal-content" style="background-color: #1a3e6f; overflow-y: auto; overflow-x: hidden; border-left: none; border-right: none; box-shadow: none; height: 100%;">
    <div style="padding-left: 10px; padding-right: 10px; height: 100%;">
        <div class="modal-header prod-headers">
            <div class="row prodCorrectorHeader" style=" align-items: center; padding-top: 10px; padding-bottom: 10px;">
                <div cdkDrag cdkDragRootElement=".cdk-overlay-pane" cdkDragHandle moveablemodal class="col-md-5  cursorArea" style="padding-left:0px; cursor:move">
                    <p class="prodText" style="margin-bottom: 0;">Product Corrector</p>
                </div>
                <div class="col-md-6  text-center headerMsg">
                    <span *ngIf="numIssueRows <= 1">
                        My Deals needs help with your entered product
                    </span>
                    <span *ngIf="numIssueRows> 1">
                        My Deals needs help with <span class="yellow">{{ numIssueRows }}</span> of <span class="yellow">{{ totRows }}</span> rows
                    </span>
                </div>

                <span class="col-md-1 rowNavPanel">
                    <i role="button" title="Close" class="intelicon-close-max fr" (click)="onNoClick()"></i>
                </span>
            </div>
        </div>
        <div class="prodCorrector modal-body">
            <div class="row subHeaderMsg">
                <div class="col">
                    Please select option(s) below to move into the valid products box or use the <span class="skyblue">Product Selector</span>
                </div>
            </div>
            <div class="row subHeaderNavContainer">
                <div class="mini-left miniNav" *ngIf="numIssueRows > 1">
                    <div class="text-center">({{ curRowIndx }} of {{ numIssueRows }} rows)</div>
                    <div>
                        <button class="btn btn-xs btn-primary prdBtn product-corrector-backbtn" style="margin-right: 12px;" (click)="prevRow()" [disabled]="curRowIndx <= 1">Back</button>
                        <button class="btn btn-xs btn-primary prdBtn product-correct-nextbtn" (click)="nextRow()" [disabled]="curRowIndx >= numIssueRows">Next</button>
                    </div>
                </div>
                <div class="mini-right miniProdNav" style=" padding-top: 5px; padding-bottom: 5px;">
                    <div>Product(s) <span style="color:red">not found</span> for Row {{ rowDCId }}</div>
                    <div style="float:left; font-size: 14px; margin-left: 10px; color: #000000;">Contract Product(s):&nbsp;</div>
                    <div>
                        <ul class="productpath breadcrumb">
                            <li *ngFor="let p of curRowIncProd | unique:'name'">
                                <span [ngClass]="{'strike': p.matchName.length != 0,'btnInclude':showIncludeExcludeLabel && p.exclude == 'I', 'btnExclude':showIncludeExcludeLabel && p.exclude == 'E' }" class="btn btn-default btn-xs padding-tb-0">
                                    <span class="prdAnchor {{p.status}}" (click)="clkPrdUsrNm(p)" title="{{p.reason}}">{{ p.anchorName }}</span>
                                    <span title="Remove Product" class='skyblue pl10 removeProduct span-closer' (click)="removeProd(p.name, p.exclude)">x</span>
                                    
                                </span>
                                <div class="newProd height-auto-fix">
                                    <span id="selectedProducts" class="assign-inline-block" *ngIf="p.matchName.length > 0">{{p.matchName.length > 1 ? p.matchName.length + " products" : p.matchName[0]}}</span>
                                    &nbsp;
                                </div>
                            </li>
                        </ul>
                    </div>
                    <div style="float: left; font-size: 14px; margin-left: 10px; margin-top: 5px; color: #000000;" *ngIf="curRowExcludeProd.length >0">Excluded Product(s): &nbsp;</div>
                    <div>
                        <ul class="productpath breadcrumb">
                            <li *ngFor="let p of curRowExcludeProd  | unique:'name'">
                                <span [ngClass]="{'strike': p.matchName.length != 0,'btnInclude':showIncludeExcludeLabel && p.exclude == 'I', 'btnExclude':showIncludeExcludeLabel && p.exclude == 'E' }" class="btn btn-default btn-xs">
                                    <span class="prdAnchor {{p.status}}" (click)="clkPrdUsrNm(p)" title="{{p.reason}}">{{ p.anchorName }}</span>
                                    <span title="Remove Product" class="skyblue pl10 removeProduct" (click)="removeProd(p.name, p.exclude)"></span>
                                </span>
                                <div class="newProd">
                                    <span id="selectedProducts" *ngIf="p.matchName.length > 0">{{p.matchName.length > 1 ? p.matchName.length + " products" : p.matchName[0]}}</span>
                                    &nbsp;
                                </div>
                            </li>
                        </ul>
                    </div>
                </div>

            </div>
            <div class="row" style="margin-top: 10px;">
                <div *ngIf="!allDone" class="col-md-3 lnavFilter blue-lnav corrector-one-details">
                    <div class="row">
                        <div class="col">
                            <p class='filterTitleUnderline' *ngIf="curRowIssues.length > 0">Filter by product</p>
                            <kendo-treeview class="lblFilterProd PctreeViewNodes lblFilterProdCorrect" [nodes]="curRowIssues" [(selectedKeys)]="issueRowKeys" textField="name" [hasChildren]="false" selectBy="value" [kendoTreeViewSelectable]="selection" (selectionChange)="clickFilter($event,'USR_INPUT')">
                                <ng-template kendoTreeViewNodeTemplate let-dataItem>
                                    {{ dataItem.name }}
                                    <span class="badge upperBadge big-label" *ngIf="dataItem.cnt>0">{{dataItem.cnt}}</span>
                                    <i *ngIf="dataItem.cnt==0" class="intelicon-help-outlined ckSm" title="Click to find a possible match"> </i>
                                </ng-template>
                            </kendo-treeview>
                        </div>
                    </div>
                    <div class="row" *ngIf="curRowLvl.length>1">
                        <div class="col">
                            <p class="filterTitleUnderline">Filter by product level</p>
                            <kendo-treeview class="lblFilterProd PctreeViewNodes lblFilterProdCorrect" [nodes]="curRowLvl" [(selectedKeys)]="issueRowKeys" textField="name" [hasChildren]="false" selectBy="value" [kendoTreeViewSelectable]="selection" (selectionChange)="clickFilter($event,'PRD_ATRB_SID')">
                            </kendo-treeview>
                        </div>
                    </div>
                    <div class="row" *ngIf="curRowCategories.length>1">
                        <div class="col">
                            <p class="filterTitleUnderline">Filter by product vertical</p>
                            <kendo-treeview class="lblFilterProd PctreeViewNodes lblFilterProdCorrect" [nodes]="curRowCategories" [(selectedKeys)]="issueRowKeys" textField="name" [hasChildren]="false" selectBy="value" [kendoTreeViewSelectable]="selection" (selectionChange)="clickFilter($event,'PRD_CAT_NM')">
                            </kendo-treeview>
                        </div>
                    </div>
                </div>
                <div class="col-md-9 oppo-grids new-now-wrap" *ngIf="!allDone && !isLoading">
                    <kendo-grid #pdtCrtGrid id="productcorrectorgrid" [data]="selGridData" [loading]="isLoading" [pageSize]="state.take" [skip]="state.skip"
                                [sort]="state.sort" [filter]="state.filter"
                                [sortable]="true" [pageable]="{type:type,pageSizes: pageSizes,info:info}"
                                [rowClass]="rowCallback" 
                                filterable="menu" (dataStateChange)="dataStateChange($event)" [resizable]="true"
                                class="notation-flow corrector-two-details correcting-product">
                        <kendo-grid-column [headerClass]="{'headerClass':true}"
                                           field="EXCLUDE" title="EXCLUDE" [filterable]="none" [width]="5">
                            <ng-template kendoGridCellTemplate let-dataItem>
                                <div class="fl gridStatusMarker {{dataItem.EXCLUDE}}"
                                     title="{{dataItem.EXCLUDE}}"></div>
                            </ng-template>
                        </kendo-grid-column>
                        <kendo-grid-column [headerClass]="{'headerClass':true}" field="USR_INPUT" title="User Entered" [width]="150">
                            <ng-template kendoGridFilterMenuTemplate let-column="column" let-filter="filter" let-filterService="filterService">
                                <multicheck-filter [isPrimitive]="true" [field]="column.field"
                                                   [currentFilter]="filter" [filterService]="filterService"
                                                   [data]="distinctPrimitive(column.field)">
                                </multicheck-filter>
                            </ng-template>
                            <ng-template kendoGridGroupHeaderTemplate let-group let-field="field" let-value="value">
                                <p class="now-wrap-controls">
                                    <span class="grpTitle">{{value}}</span>
                                    <i (click)='removeProd(value,false)' title="Remove Product" class='intelicon-close skyblue pl10 removeProduct'></i>
                                    <i class='intelicon-arrow-back-left skyblue pl10 pr10'></i>
                                    <span class='grpDesc'>
                                        Can't find what you are looking for?
                                        <span class='or'>Use the</span>
                                    </span>
                                    <span class='lnk' (click)='openProdSelector(value)'>Product Selector</span>
                                </p>
                            </ng-template>
                        </kendo-grid-column>
                        <kendo-grid-column  [headerClass]="{'headerClass':true}" [width]="50" field="IS_SEL" title=" ">
                            <ng-template kendoGridFilterMenuTemplate let-filter let-column="column" let-filterService="filterService">
                                <kendo-grid-boolean-filter-menu [column]="column" [filter]="filter" [filterService]="filterService"></kendo-grid-boolean-filter-menu>
                            </ng-template>
                            <ng-template kendoGridCellTemplate let-dataItem="dataItem">
                                <div class="pc-checkbox-design">
                                    <input class="prd-crctor-chkbox" type="checkbox" kendoCheckBox (click)="clickProd(dataItem.PRD_MBR_SID,dataItem.USR_INPUT,dataItem.HIER_VAL_NM,$event)" [(ngModel)]="dataItem.IS_SEL" />
                                    <label></label>
                                </div>
                            </ng-template>
                        </kendo-grid-column>
                        <kendo-grid-column [headerClass]="{'headerClass':true}" field="HIER_VAL_NM" title="Product" [width]="150">
                            <ng-template kendoGridFilterMenuTemplate let-column="column" let-filter="filter" let-filterService="filterService">
                                <multicheck-filter [isPrimitive]="true" [field]="column.field" [currentFilter]="filter" [filterService]="filterService" [data]="distinctPrimitive(column.field)">
                                </multicheck-filter>
                            </ng-template>
                            <ng-template kendoGridCellTemplate let-dataItem>
                                <div [ngClass]="{'text-danger': isValidCapDetails(dataItem)}" title="{{isValidCapDetails(dataItem, true)}}">{{dataItem.HIER_VAL_NM}}</div>
                            </ng-template>
                        </kendo-grid-column>
                        <kendo-grid-column [headerClass]="{'headerClass':true}" field="PRD_CAT_NM" title="Product Vertical" [width]="80">
                            <ng-template kendoGridFilterMenuTemplate let-column="column" let-filter="filter" let-filterService="filterService">
                                <multicheck-filter [isPrimitive]="true" [field]="column.field" [currentFilter]="filter" [filterService]="filterService" [data]="distinctPrimitive(column.field)">
                                </multicheck-filter>
                            </ng-template>
                        </kendo-grid-column>
                        <kendo-grid-column [headerClass]="{'headerClass':true}" field="BRND_NM" title="Brand Name" [width]="80">
                            <ng-template kendoGridFilterMenuTemplate let-column="column" let-filter="filter" let-filterService="filterService">
                                <multicheck-filter [isPrimitive]="true" [field]="column.field" [currentFilter]="filter" [filterService]="filterService" [data]="distinctPrimitive(column.field)">
                                </multicheck-filter>
                            </ng-template>
                        </kendo-grid-column>
                        <kendo-grid-column [headerClass]="{'headerClass':true}" field="FMLY_NM" title="Family Name" [width]="80">
                            <ng-template kendoGridFilterMenuTemplate let-column="column" let-filter="filter" let-filterService="filterService">
                                <multicheck-filter [isPrimitive]="true" [field]="column.field" [currentFilter]="filter" [filterService]="filterService" [data]="distinctPrimitive(column.field)">
                                </multicheck-filter>
                            </ng-template>
                        </kendo-grid-column>
                        <kendo-grid-column [headerClass]="{'headerClass':true}" field="PRD_STRT_DTM" title="Product Effective Date" [width]="120">
                            <ng-template kendoGridCellTemplate let-dataItem>
                                <div>{{dataItem.PRD_STRT_DTM | date: 'M/d/yyyy'}} - {{dataItem.PRD_END_DTM | date: 'M/d/yyyy'}}</div>
                            </ng-template>
                        </kendo-grid-column>
                        <kendo-grid-column [headerClass]="{'headerClass':true}" field="CAP" title="CAP Info" [width]="185">
                            <ng-template kendoGridFilterMenuTemplate let-column="column" let-filter="filter" let-filterService="filterService">
                                <multicheck-filter [isPrimitive]="true" [field]="column.field" [currentFilter]="filter" [filterService]="filterService" [data]="distinctPrimitive(column.field)">
                                </multicheck-filter>
                            </ng-template>
                            <ng-template kendoGridCellTemplate let-dataItem>
                                <!-- Popover Template -->
                                <ng-template #popoverContent>
                                    <div class="container">
                                        <div class="row">
                                            <a id="closePopover" role="button" (click)="popOver.close()"><i class="intelicon-close-max"></i></a>
                                        </div>
                                        <div class="row">
                                            <grid-popover [popOver]="popOver" [columnTypes]="'CAP'" [currentPricingTableRow]="data.curPricingTable" [productMemberSId]="dataItem.PRD_MBR_SID" [priceCondition]="'CAP'"></grid-popover>
                                        </div>
                                    </div>
                                </ng-template>

                                <!-- Cell Content -->
                                <div class="CAPYCS2CellContent" #popOver="ngbPopover" [ngbPopover]="popoverContent" (click)="openCAPBreakOut(dataItem, 'CAP')">
                                    <!-- CAP Info cell design -->
                                    <div [class.isSoftWarnCell]="dataItem.CAP?.includes('No')" style="text-align: center;">
                                        <span *ngIf="dataItem.CAP != undefined && dataItem.CAP != null && dataItem.CAP !='' && dataItem.CAP !='No CAP'">
                                            <strong>{{dataItem.CAP | currency}}</strong>
                                        </span>
                                        <span *ngIf="dataItem.CAP != undefined && dataItem.CAP != null && dataItem.CAP ==='No CAP'">
                                            {{dataItem.CAP}}
                                        </span>
                                        <div *ngIf="!dataItem.CAP?.includes('No')" style="line-height:1;">
                                            {{ dataItem.CAP_START }} - {{ dataItem.CAP_END }}
                                        </div>
                                    </div>
                                </div>
                            </ng-template>
                        </kendo-grid-column>
                        <kendo-grid-column [headerClass]="{'headerClass':true}" field="HAS_L1" title="Legal Classification" [width]="150" *ngIf="isGA">
                            <ng-template kendoGridFilterMenuTemplate let-column="column" let-filter="filter" let-filterService="filterService">
                                <multicheck-filter [isPrimitive]="true" [field]="column.field" [currentFilter]="filter" [filterService]="filterService" [data]="distinctPrimitive(column.field)">
                                </multicheck-filter>
                            </ng-template>
                            <ng-template kendoGridCellTemplate let-dataItem>
                                <div>{{ dataItem.HAS_L1 != 0 ? 'L1' : (dataItem.HAS_L2 != 0 ? 'L2' : 'Exempt') }}</div>
                            </ng-template>
                        </kendo-grid-column>
                        <kendo-grid-column [headerClass]="{'headerClass':true}" field="MM_MEDIA_CD" title="Media Code" [width]="120">
                            <ng-template kendoGridFilterMenuTemplate let-column="column" let-filter="filter" let-filterService="filterService">
                                <multicheck-filter [isPrimitive]="true" [field]="column.field" [currentFilter]="filter" [filterService]="filterService" [data]="distinctPrimitive(column.field)">
                                </multicheck-filter>
                            </ng-template>
                        </kendo-grid-column>
                        <kendo-grid-column [headerClass]="{'headerClass':true}" field="YCS2" title="YCS2" [width]="150">
                            <ng-template kendoGridFilterMenuTemplate let-column="column" let-filter="filter" let-filterService="filterService">
                                <multicheck-filter [isPrimitive]="true" [field]="column.field" [currentFilter]="filter" [filterService]="filterService" [data]="distinctPrimitive(column.field)"></multicheck-filter>
                            </ng-template>
                            <ng-template kendoGridCellTemplate let-dataItem>
                                <div class="CAPYCS2CellContent bg-yellow-remove" (click)="openCAPBreakOut(dataItem, 'YCS2')">
                                    <!-- YCS2 Info cell design -->
                                    <div [class.isSoftWarnCell]="dataItem.YCS2?.includes('No')" class="product-selector-font-align">
                                        {{ dataItem.YCS2 }}
                                    </div>
                                </div>
                            </ng-template>
                        </kendo-grid-column>
                        <kendo-grid-column [headerClass]="{'headerClass':true}" field="GDM_FMLY_NM" title="GDM Family Name" [width]="150">
                            <ng-template kendoGridFilterMenuTemplate let-column="column" let-filter="filter" let-filterService="filterService">
                                <multicheck-filter [isPrimitive]="true" [field]="column.field" [currentFilter]="filter" [filterService]="filterService" [data]="distinctPrimitive(column.field)">
                                </multicheck-filter>
                            </ng-template>
                            <ng-template kendoGridCellTemplate let-dataItem="dataItem">
                                <div kendoTooltip position="bottom">
                                    <span title="{{dataItem.GDM_FMLY_NM}}">{{dataItem.GDM_FMLY_NM}}</span>
                                </div>
                            </ng-template>
                        </kendo-grid-column>
                        <!--hiding this Product description column by default-->
                        <kendo-grid-column [hidden]="true" [headerClass]="{'headerClass':true}" field="HIER_NM_HASH" title="Product Description" hidden="hidden">
                            <ng-template kendoGridCellTemplate let-dataItem="dataItem">
                                <div kendoTooltip position="bottom">
                                    <span title="{{dataItem.HIER_NM_HASH}}">{{dataItem.HIER_NM_HASH}}</span>
                                </div>
                            </ng-template>
                        </kendo-grid-column>
                        <kendo-grid-column [headerClass]="{'headerClass':true}" field="CPU_PROCESSOR_NUMBER" title="CPU Processor number" [width]="150">
                            <ng-template kendoGridFilterMenuTemplate let-column="column" let-filter="filter" let-filterService="filterService">
                                <multicheck-filter [isPrimitive]="true" [field]="column.field" [currentFilter]="filter" [filterService]="filterService" [data]="distinctPrimitive(column.field)">
                                </multicheck-filter>
                            </ng-template>
                        </kendo-grid-column>
                        <kendo-grid-column [headerClass]="{'headerClass':true}" field="MM_CUST_CUSTOMER" title="MM Customer Name" [width]="150">
                            <ng-template kendoGridFilterMenuTemplate let-column="column" let-filter="filter" let-filterService="filterService">
                                <multicheck-filter [isPrimitive]="true" [field]="column.field" [currentFilter]="filter" [filterService]="filterService" [data]="distinctPrimitive(column.field)">
                                </multicheck-filter>
                            </ng-template>
                        </kendo-grid-column>
                        <kendo-grid-column [headerClass]="{'headerClass':true}" field="FMLY_NM_MM" title="EDW Family Name" [width]="150">
                            <ng-template kendoGridFilterMenuTemplate let-column="column" let-filter="filter" let-filterService="filterService">
                                <multicheck-filter [isPrimitive]="true" [field]="column.field" [currentFilter]="filter" [filterService]="filterService" [data]="distinctPrimitive(column.field)">
                                </multicheck-filter>
                            </ng-template>
                            <ng-template kendoGridCellTemplate let-dataItem="dataItem">
                                <div kendoTooltip position="bottom">
                                    <span title="{{dataItem.FMLY_NM_MM}}">{{dataItem.FMLY_NM_MM}}</span>
                                </div>
                            </ng-template>
                        </kendo-grid-column>
                        <kendo-grid-column [headerClass]="{'headerClass':true}" field="EPM_NM" title="EPM Name" [width]="150">
                            <ng-template kendoGridCellTemplate let-dataItem="dataItem">
                                <div kendoTooltip position="bottom">
                                    <span title="{{dataItem.EPM_NM}}">{{dataItem.EPM_NM}}</span>
                                </div>
                            </ng-template>
                        </kendo-grid-column>
                        <kendo-grid-column [headerClass]="{'headerClass':true}" field="SKU_NM" title="SKU Name" [width]="180">
                            <ng-template kendoGridFilterMenuTemplate let-column="column" let-filter="filter" let-filterService="filterService">
                                <multicheck-filter [isPrimitive]="true" [field]="column.field" [currentFilter]="filter" [filterService]="filterService" [data]="distinctPrimitive(column.field)">
                                </multicheck-filter>
                            </ng-template>
                            <ng-template kendoGridCellTemplate let-dataItem="dataItem">
                                <div kendoTooltip position="bottom">
                                    <span title="{{dataItem.SKU_NM}}">{{dataItem.SKU_NM}}</span>
                                </div>
                            </ng-template>
                        </kendo-grid-column>
                        <kendo-grid-column [headerClass]="{'headerClass':true}" field="NAND_FAMILY" title="NAND FAMILY" [width]="150">
                            <ng-template kendoGridFilterMenuTemplate let-column="column" let-filter="filter" let-filterService="filterService">
                                <multicheck-filter [isPrimitive]="true" [field]="column.field" [currentFilter]="filter" [filterService]="filterService" [data]="distinctPrimitive(column.field)">
                                </multicheck-filter>
                            </ng-template>
                        </kendo-grid-column>
                        <kendo-grid-column [headerClass]="{'headerClass':true}" field="NAND_Density" title="Nand Density" [width]="150">
                            <ng-template kendoGridFilterMenuTemplate let-column="column" let-filter="filter" let-filterService="filterService">
                                <multicheck-filter [isPrimitive]="true" [field]="column.field" [currentFilter]="filter" [filterService]="filterService" [data]="distinctPrimitive(column.field)">
                                </multicheck-filter>
                            </ng-template>
                        </kendo-grid-column>
                        <kendo-grid-column [headerClass]="{'headerClass':true}" field="CPU_CACHE" title="CPU CACHE" [width]="150">
                            <ng-template kendoGridFilterMenuTemplate let-column="column" let-filter="filter" let-filterService="filterService">
                                <multicheck-filter [isPrimitive]="true" [field]="column.field" [currentFilter]="filter" [filterService]="filterService" [data]="distinctPrimitive(column.field)">
                                </multicheck-filter>
                            </ng-template>
                        </kendo-grid-column>
                        <kendo-grid-column [headerClass]="{'headerClass':true}" field="CPU_PACKAGE" title="CPU PACKAGE" [width]="150">
                            <ng-template kendoGridFilterMenuTemplate let-column="column" let-filter="filter" let-filterService="filterService">
                                <multicheck-filter [isPrimitive]="true" [field]="column.field" [currentFilter]="filter" [filterService]="filterService" [data]="distinctPrimitive(column.field)">
                                </multicheck-filter>
                            </ng-template>
                        </kendo-grid-column>
                        <kendo-grid-column [headerClass]="{'headerClass':true}" field="CPU_WATTAGE" title="CPU WATTAGE" [width]="150">
                            <ng-template kendoGridFilterMenuTemplate let-column="column" let-filter="filter" let-filterService="filterService">
                                <multicheck-filter [isPrimitive]="true" [field]="column.field" [currentFilter]="filter" [filterService]="filterService" [data]="distinctPrimitive(column.field)">
                                </multicheck-filter>
                            </ng-template>
                        </kendo-grid-column>
                        <kendo-grid-column [headerClass]="{'headerClass':true}" field="CPU_VOLTAGE_SEGMENT" title="Voltage Segment" [width]="150">
                            <ng-template kendoGridFilterMenuTemplate let-column="column" let-filter="filter" let-filterService="filterService">
                                <multicheck-filter [isPrimitive]="true" [field]="column.field" [currentFilter]="filter" [filterService]="filterService" [data]="distinctPrimitive(column.field)">
                                </multicheck-filter>
                            </ng-template>
                        </kendo-grid-column>
                        <kendo-grid-column [headerClass]="{'headerClass':true}" field="PRICE_SEGMENT" title="Price Segment" [width]="150">
                            <ng-template kendoGridFilterMenuTemplate let-column="column" let-filter="filter" let-filterService="filterService">
                                <multicheck-filter [isPrimitive]="true" [field]="column.field" [currentFilter]="filter" [filterService]="filterService" [data]="distinctPrimitive(column.field)">
                                </multicheck-filter>
                            </ng-template>
                        </kendo-grid-column>
                        <kendo-grid-column [headerClass]="{'headerClass':true}" field="SBS_NM" title="SBS Name" [width]="150">
                            <ng-template kendoGridFilterMenuTemplate let-column="column" let-filter="filter" let-filterService="filterService">
                                <multicheck-filter [isPrimitive]="true" [field]="column.field" [currentFilter]="filter" [filterService]="filterService" [data]="distinctPrimitive(column.field)">
                                </multicheck-filter>
                            </ng-template>
                        </kendo-grid-column>
                    </kendo-grid>
                    <div>
                        <kendo-dialog *ngIf="isDuplicate" (close)="closeKendoDialog('cancel')" [minWidth]="250" [width]="450" class="k-dialog-popup-design">
                            <p style="text-align: center;">
                                {{duplicateMsg}}
                            </p>
                            <kendo-dialog-actions>
                                <button class="k-button ok-btn-pop-up" kendoButton (click)="closeKendoDialog('yes')" themeColor="primary">
                                    OK
                                </button>
                                <button class="k-button cancel-btn-pop-up" kendoButton (click)="closeKendoDialog('no')">CANCEL</button>
                            </kendo-dialog-actions>
                        </kendo-dialog>
                    </div>
                </div>


            </div>

            <div class="row alldonediv" *ngIf="allDone" style="background-color: white;margin-top:10px;">
                <div class="col-md-2">

                </div>
                <div class="col-md-8" style="margin: 100px 400px 120px 610px;">
                    <i class="intelicon-passed-completed-solid product-corrector-passedicon"></i>

                    <div class="done-title correct-title-done">You are Done!</div>
                    <div class="done-body corrector-body-title">All the products have been matched.</div>
                    <div class="done-confirm done-confirm-corrector">
                        Would you like to apply the changes to your Pricing Table?
                    </div>
                    <div style="margin-left:60px">
                        <button class="btn btn-default prdBtn cancel-correctorbtn" (click)="onNoClick()" style="margin-right:20px; font-size: 16px;">Cancel</button>
                        <button class="btn btn-primary prdBtn saveclose-correctorbtn" (click)="saveProducts()" style="font-size: 16px;">YES, Please Save and Close</button>
                    </div>
                </div>
                <div class="col-md-2">

                </div>
            </div>
        </div>
        <div class="modal-footer" style="border:none">
            <div class="col-md-1 col-md-offset-5">
                <img *ngIf="isLoading" src="/Images/loadingSmall.gif" />
            </div>
            <div *ngIf="!allDone" class="col-md-6" style="margin-top: 10px;margin-bottom: 10px;">
                <button class="btn btn-primary prdBtn" (click)="saveProducts()" style="float: right; margin-left: 5px;">Save and Close</button>
                <button class="btn btn-default prdBtn" (click)="onNoClick()" style="margin-right:2px;float:right">Cancel</button>
            </div>
        </div>
    </div>

    <kendo-dialog *ngIf="prodRemoveConfirm" (close)="closePrdRemoveDialogs()" [maxWidth]="800" class="k-dialog-popup-design">
        <div>
            <p>This will remove product ({{prdNm}}) from the <b>Product Corrector</b> AND from the <b>Pricing Table</b>?<br />Would you like to delete this product?</p>
        </div>
        <kendo-dialog-actions class="k-dialog-buttongroup k-dialog-button-layout-stretched">
            <div kendoButton class="k-button k-primary kendopcorbtn ok-btn-pop-up" (click)="OKremoveProd(prdNm,excludeProd?.length>0?true:false)">OK</div>
            <div kendoButton class="k-button cancelDelete cancel-btn-pop-up" (click)="closePrdRemoveDialogs()">CANCEL</div>
        </kendo-dialog-actions>
    </kendo-dialog>

</div>