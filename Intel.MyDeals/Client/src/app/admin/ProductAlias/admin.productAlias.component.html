﻿<link href="/Client/src/app/admin/kendo_grid.css" rel="stylesheet" />
<div class="row" style="display: contents;">
    <div class="col-md-12 k-header-alignment header_fix">
        <h3 class="header-height-align">Product Alias</h3>
    </div>
</div>
<div class="row" style="display: contents;">
    <div class="col-md-12 kendo-grid-buttons grid_box_size">
        <kendo-grid class="grid_height" [data]="gridData" [loading]="isLoading" [pageSize]="state.take" [skip]="state.skip"
                    [sort]="state.sort" [filter]="state.filter" [sortable]="true"
                    [pageable]="{type:type,pageSizes: pageSizes,info:info}" [groupable]="false" [group]="state.group"
                    filterable="menu" [navigable]="true" (dataStateChange)="dataStateChange($event)" (add)="addHandler($event)"
                    (edit)="editHandler($event)" (remove)="removeHandler($event)" (cancel)="cancelHandler($event)"
                    (save)="saveHandler($event)" [columnMenu]="true">
            <ng-template kendoGridToolbarTemplate>
                <button kendoGridAddCommand class="k-button addButton">
                    <span class="k-icon k-i-plus-outline k-icon-md"></span>ADD NEW RECORD
                </button><button (click)="clearFilter()" class="k-button clearButton">
                    <span class="k-icon intelicon-cancel-filter-solid k-icon-md k-family"></span>CLEAR FILTERS
                </button>
                <kendo-grid-spacer></kendo-grid-spacer>
                <button (click)="refreshGrid()" class="k-button clearButton"><span class="k-icon k-i-reload k-icon-md"></span>Refresh </button>
            </ng-template>
            <kendo-grid-command-column title="Commands" width="75" [headerClass]="{'headerClass':true}"
                                       [columnMenu]="false">
                <ng-template kendoGridCellTemplate let-isNew="isNew">
                    <button id="command-icon" class="k-command-icon"
                            kendoGridEditCommand>
                        <span class="k-icon k-i-edit k-icon-sm delete-space"></span>
                    </button><button id="command-icon" class="k-command-icon" kendoGridSaveCommand
                                     [disabled]="formGroup?.invalid">
                        <span class="k-icon k-i-check k-icon-sm"></span>
                    </button><button id="command-icon" class="k-command-icon" kendoGridCancelCommand>
                        <span class="k-icon k-i-cancel-outline k-icon-sm remove-space-cancel"></span>
                    </button><button id="command-icon"
                                     class="k-command-icon" kendoGridRemoveCommand>
                        <span class="k-icon k-i-delete k-icon-sm"></span>
                    </button>
                </ng-template>
            </kendo-grid-command-column>
            <kendo-grid-column field="PRD_ALS_SID" title="ID" width="200px" [hidden]="true"
                               [headerClass]="{'headerClass':true}" [editable]="false">
                <ng-template kendoGridFilterMenuTemplate let-column="column" let-filter="filter"
                             let-filterService="filterService">
                    <multicheck-filter [isPrimitive]="true" [field]="column.field" [currentFilter]="filter"
                                       [filterService]="filterService" [data]="distinctPrimitive(column.field)"></multicheck-filter>
                </ng-template>
            </kendo-grid-column>
            <kendo-grid-column field="PRD_NM" title="Product Name" width="200px" [headerClass]="{'headerClass':true}">
                <ng-template kendoGridFilterMenuTemplate let-column="column" let-filter="filter"
                             let-filterService="filterService">
                    <multicheck-filter [isPrimitive]="true" [field]="column.field" [currentFilter]="filter"
                                       [filterService]="filterService" [data]="distinctPrimitive(column.field)"></multicheck-filter>
                </ng-template>
                <ng-template kendoGridEditTemplate let-dataItem="dataItem" let-formGroup="formGroup">
                    <kendo-textbox [formControl]="formGroup.get('PRD_NM')"></kendo-textbox>
                </ng-template>
            </kendo-grid-column>
            <kendo-grid-column field="PRD_ALS_NM" title="Product Alias" width="200px"
                               [headerClass]="{'headerClass':true}">
                <ng-template kendoGridFilterMenuTemplate let-column="column" let-filter="filter"
                             let-filterService="filterService">
                    <multicheck-filter [isPrimitive]="true" [field]="column.field" [currentFilter]="filter"
                                       [filterService]="filterService" [data]="distinctPrimitive(column.field)"></multicheck-filter>
                </ng-template>
                <ng-template kendoGridEditTemplate let-dataItem="dataItem" let-formGroup="formGroup">
                    <kendo-textbox [formControl]="formGroup.get('PRD_ALS_NM')"></kendo-textbox>
                </ng-template>
            </kendo-grid-column>
        </kendo-grid>
        <kendo-dialog class="deleted-popups" *ngIf="isDialogVisible" (close)="saveCancel()" [width]="600">
            <h2>Delete Confirmation</h2>
            <p style="padding-top: 15px;">{{errorMsg}}</p>
            <kendo-dialog-actions class="delete-actions">
                <button class='k-button del-cancel' *ngIf="cancelConfirm" (click)="saveCancel()">Cancel</button>
                <button class='k-button del-ok' *ngIf="isOk" (click)="saveCancel()">Ok</button>
                <button class='k-button del-ok' *ngIf="isDelete" (click)="deleteConfirmation()">
                    Delete Product
                    Alias
                </button>
            </kendo-dialog-actions>
        </kendo-dialog>
    </div>
</div>