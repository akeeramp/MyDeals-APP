<link href="/Client/src/app/admin/kendo_grid.css" rel="stylesheet" />
<app-breadcrumbs [list_breadcrumbs]="list_breadcrumbs" (selectedBreadCrumb)="loadSelected($event)"></app-breadcrumbs>

<div class="layout-cp-inner-page">
    <div class="grid-one" [ngStyle]="isVisible?{'min-width': '200px'}:{'min-width': 'auto'}">
        <div *ngIf="isVisible" id="tocCollapse" class="w100" style="cursor: pointer; text-align: right; font-size: 10px;">
            TOC <i (click)="Toggle()" class="intelicon-left-previous"></i>
            <app-coding-practices-leftNav [left_nav]="left_nav" [keySelected]='keySelected' (selectedLink)="loadSelected($event)"></app-coding-practices-leftNav>
        </div>
        <div id="tocExpand" *ngIf="!isVisible" (click)="Toggle()" class="intelicon-up rotateIcon"><span class="font-cp">TOC</span> </div>
    </div>
    <div class="grid-two projectFlowAnchorDesign">
        <div id="Introduction">
            <h1>Project setup and logic flow</h1>
            <p>
                This document is a living document to help maintain coding practices to ensure the application is coded in a consistent manner.
                These are not coding standards. Instead, this is intended to provide project layout and intended usages for each project.
            </p>
            <div style="padding: 20px 5px; text-align: left;">
                <img src="/Images/docs/MyDeals Project Logic.png" />
            </div>
            <p>
                The My Deals project is a Visual Studio project backed by GitHub source control.The technologies consist of MS SQL 2019, C# .NET 4.8 , T4 Templating, MVC, Web API, Kendo UI 2021.3.1207, Handsontable 12.1.3, Typescript 5.0.3, Angular 12.2.17 and HTML5.<br />
                This document will demonstate how data will logically flow through the technology as well as common practices that can be re-used for quicker and more reliable coding.
            </p>

            <h2>UI and middle tier architecture</h2>

            <p>
                The UI and middle tier architecture consists of ASP.NET MVC to handle global routing and break the application up into managable sections.
                This should help with memory and performance issues. The controller will spawn off Single Page Applications (SPA) or standalone pages (admin screens for example).
            </p>
            <p>
                <a href="/Images/docs/MyDeal UI MT Architecture 50.pdf" target="_blank">
                    <div style="padding: 20px 5px 0 5px; text-align: left;">
                        <img src="/Images/docs/ui_mt_architecture.png" />
                    </div>
                    Click to view a larger version of the architecture.
                </a>
            </p>

            <h2>Implementation guidance</h2>

            <table style="width: 100%; margin-top: 15px;">
                <tr style="border-top: 1px solid #dddddd; border-bottom: 1px solid #dddddd;">
                    <th style="font-weight: 200; width: 180px; text-align: center;"></th>
                    <th style="font-weight: 200;">Description</th>
                    <th style="font-weight: 200; width: 220px;">Recomended Links</th>
                </tr>
                <tr style="border-bottom: 1px solid #dddddd;">
                    <td style="padding: 15px; text-align: center;">
                        <a href="javascript:void(0);" (click)="navigateToSelectedLink({url:'#dataAccess',bool: 'dataAccess'})" >
                            <img src="/Images/docs/icon-data-access.png" height="60" />
                            <div style="font-size: 10px;">Intel.MyDeals.DataAccess</div>
                        </a>
                    </td>
                    <td style="font-size: 12px; color: #333333; padding-right: 15px;">Layer to hold all Database connection libraries.  These are the tool used by the Data Libraries to access the Database via Stored Procedures.</td>
                    <td style="font-size: 11px;">
                        <div><a href="javascript:void(0);" (click)="navigateToSelectedLink({ text: 'Consume a stored procedure', url: '#consumeSP' , bool: 'consumeSP'},'1_1'
                            )">Consume a stored procedure</a></div>
                    </td>
                </tr>
                <tr style="border-bottom: 1px solid #dddddd;">
                    <td style="padding: 15px; text-align: center;">
                        <a href="javascript:void(0);" (click)="navigateToSelectedLink({url: '#entities', bool: 'entities'})">
                            <img src="/Images/docs/icon-entity.png" height="60" />
                            <div style="font-size: 10px;">Intel.MyDeals.Entities</div>
                        </a>
                    </td>
                    <td style="font-size: 12px; color: #333333; padding-right: 15px;">Layer to hold common libraries/classes that can be consumed by all layers of the My Deals Suite.</td>
                    <td style="font-size: 11px;">
                        <div><a href="javascript:void(0);" (click)="navigateToSelectedLink({ text: 'Creating a shared class', url: '#createSC' , bool: 'createSC'},'2_1')">Creating a shared class</a></div>
                        <div><a href="javascript:void(0);" (click)="navigateToSelectedLink({ text: 'Creating a shared class from a procedure', url: '#sharedCSfromProc' , bool: 'sharedCSfromProc'},'2_2'
                            )">Creating a shared class from a procedure</a></div>
                    </td>
                </tr>
                <tr style="border-bottom: 1px solid #dddddd;">
                    <td style="padding: 15px; text-align: center;">
                        <a href="javascript:void(0);" (click)="navigateToSelectedLink({ url: '#dataLibrary', bool: 'dataLibrary'})">

                            <img src="/Images/docs/icon-data-library.png" height="60" />
                            <div style="font-size: 10px;">Intel.MyDeals.DataLibrary</div>
                        </a>
                    </td>
                    <td style="font-size: 12px; color: #333333; padding-right: 15px;">Layer dedicated to making all database calls as well as data caching repository for performance. This layer implements contracts present in <i>Intel.MyDeals.IDataLibrary</i>. Loosely coupled with Business Layer.</td>
                    <td style="font-size: 11px;">
                        <div><a href="javascript:void(0);" (click)="navigateToSelectedLink({ text: 'Calling a stored procedure', url: '#callingSP' , bool: 'callingSP'},'3_1')">Calling a stored procedure</a></div>
                        <div><a href="javascript:void(0);" (click)="navigateToSelectedLink({ text: 'Creating a data cache', url: '#createDataCache' , bool: 'createDataCache'},'3_2')">Creating a data cache</a></div>
                        <div><a href="javascript:void(0);" (click)="navigateToSelectedLink({ text: 'Managing cached data', url: '#manageCachedData' , bool: 'manageCachedData'},'3_3')">Managing cached data</a></div>
                    </td>
                </tr>
                <tr style="border-bottom: 1px solid #dddddd;">
                    <td style="padding: 15px; text-align: center;">
                        <a href="javascript:void(0);" (click)="navigateToSelectedLink({ url: '#businessLogic', bool: 'businessLogic'})" >
                            <img src="/Images/docs/icon-bus-logic.png" height="60" />
                            <div style="font-size: 10px;">Intel.MyDeals.BusinessLogic</div>
                        </a>
                    </td>
                    <td style="font-size: 12px; color: #333333; padding-right: 15px;">Layer dedicated to hold the business logic for My Deals.  Most of the logic for the application should reside in this layer.  There should be NO data access from this layer. This layer implements contracts present in <i>Intel.MyDeals.IBusinessLogic</i>. There is no direct dependency between Api and Business Layer. <a target="_blank" href="https://msdn.microsoft.com/en-us/library/ff921087.aspx">IoC</a> used for loosely coupled code.</td>
                    <td style="font-size: 11px;">Recomended Links</td>
                </tr>
                <tr style="border-bottom: 1px solid #dddddd;">
                    <td style="padding: 15px; text-align: center;">
                        <a href="javascript:void(0);" (click)="navigateToSelectedLink({ url: '#businessRules', bool: 'businessRules'})">
                            <img src="/Images/docs/incon-bus-rules.png" height="60" />
                            <div style="font-size: 10px;">Intel.MyDeals.BusinessRules</div>
                        </a>
                    </td>
                    <td style="font-size: 12px; color: #333333; padding-right: 15px;">Layer dedicated to hold the business rules and validation.  These should be driven completely off MetaData.</td>
                    <td style="font-size: 11px;">Recomended Links</td>
                </tr>
                <tr style="border-bottom: 1px solid #dddddd;">
                    <td style="padding: 15px; text-align: center;">
                        <a href="javascript:void(0);" (click)="navigateToSelectedLink({ url: '#app', bool: 'app'})">
                            <img src="/Images/docs/icon-app-layer.png" height="60" />
                            <div style="font-size: 10px;">Intel.MyDeals.App</div>
                        </a>
                    </td>
                    <td style="font-size: 12px; color: #333333; padding-right: 15px;">Layer dedicated to housing Application specific information such as Application View Model, Application Library, and Application Settings.</td>
                    <td style="font-size: 11px;">Recomended Links</td>
                </tr>
                <tr style="border-bottom: 1px solid #dddddd;">
                    <td style="padding: 15px; text-align: center;">
                        <a href="javascript:void(0);" (click)="navigateToSelectedLink({ url: '#myDeals', bool: 'myDeals'})">
                            <img src="/Images/docs/icon-presentation.png" height="60" />
                            <div style="font-size: 10px;">Intel.MyDeals</div>
                        </a>
                    </td>
                    <td style="font-size: 12px; color: #333333; padding-right: 15px;">Layer dedicated to the final presentation to the user.  This holds the MVC Project and Kendo Controls.</td>
                    <td style="font-size: 11px;">Recomended Links</td>
                </tr>
            </table>

            <br /><br /><br />
        </div>
        <div id="dataAccess">
            <h1><img src="/Images/docs/icon-data-access.png" height="60" />Introduction</h1>
            <p>
                Layer to hold all database connection libraries. These are the tools used by the <a href="javascript:void(0);" (click)="navigateToSelectedLink({ url: '#dataLibrary', bool: 'dataLibrary'})">Data Libraries</a> to access the Database via <a href="javascript:void(0);" (click)="navigateToSelectedLink({ text: 'Consume a stored procedure', url: '#consumeSP' , bool: 'consumeSP'},'1_1')">Stored Procedures</a>.
            </p>

            <h3>Coding Practices</h3>
            <p>
                The following coding practices for the Data Access layer consist mainly of consuming Stored Procedures that will be used by the <a href="javascript:void(0);" (click)="navigateToSelectedLink({ url: '#dataLibrary', bool: 'dataLibrary'})">Data Libraries</a>.
            </p>

            <h5><a href="javascript:void(0);" (click)="navigateToSelectedLink({ text: 'Consume a stored procedure', url: '#consumeSP' , bool: 'consumeSP'},'1_1')">Consume a stored procedure</a></h5>
            <p>
                To include a newly created stored procedure into the My Deals project, you simply need to have compile the <strong>SPClassGenerator.tt</strong> T4 Template.
            </p>
            <img src="/Images/docs/db2c.png" style="margin: 10px 0 10px 25px;" />
            <p>For more info, see the <a href="javascript:void(0);" (click)="navigateToSelectedLink({ text: 'Consume a stored procedure', url: '#consumeSP' , bool: 'consumeSP'},'1_1')">Consume a stored procedure</a> section</p>

            <br /><br /><br />
        </div>
        <div id="consumeSP">
            <h1><img src="/Images/docs/icon-data-access.png" height="60" />Consume a stored procedure</h1>
            <p>
                To include a newly created stored procedure into the My Deals project, you simply need to have compile the <strong>SPClassGenerator.tt</strong> T4 Template. To do this follow these steps:<br/>
                <img src="/Images/docs/db2c.png" style="margin: 10px 0 10px 25px;" />
            </p>
            <div class="stepByStep">
                <i class="intelicon-task"></i>Step by Step
            </div>

            <ol>
                <li>
                    Open the <strong>SPClassGenerator.tt</strong> file in the <i>Intel.MyDeals.DataAccessLib</i> project.<br/>
                    <img src="/Images/docs/datalibproj.png" style="margin: 10px 0;"/>
                </li>
                <li>
                    <strong>Do not change this file!!!</strong> All you need to do is save the file and it will compile the T4 template and generate the C# code.
                </li>
                <li>
                    Verify your stored procedure is locate in the generated code. To do this, expand the <strong>SPClassGenerator.tt</strong> file and open the <strong>SPClassGenerator1.generated.cs</strong> and search for your stored procedure.<br/>
                    <img src="/Images/docs/SPClassGeneratorResults.png" style="margin: 10px 0;"/><br/>

                    <div class="note"><strong>Note:</strong> Here is an example of what code is generated for a store procedure:
                    </div>
                    <div class="noteBody">
                        <img src="/Images/docs/SPClassGeneratorVerify.png" style="margin: 10px 0;"/>
                    </div>
                </li>
            </ol>

            <br /><br /><br />
        </div>
        <div id="entities">
            <h1><img src="/Images/docs/icon-entity.png" height="60" />Intel.MyDeals.Entities</h1>
            <p>
                Layer to hold common libraries/classes that can be consumed by all layers of the My Deals Suite.
            </p>

            <h3>Coding Practices</h3>
            <p>
                The following coding practices for the Entities layer consist mainly of custom and autogenerated shared classes to be consumed by all layers of the project.
            </p>

            <h5><a href="javascript:void(0);" (click)="navigateToSelectedLink({ text: 'Creating a shared class', url: '#createSC' , bool: 'createSC'},'2_1')">Creating a shared class</a></h5>
            <p>
                To create a class that can be consumed by all layers, the class needs to be created in the <i>Intel.MyDeals.Entities</i> project. This is the only project that is included in all layers of the project.
            </p>
            <img src="/Images/docs/buildcustomcode.png" style="margin: 10px 0 10px 25px;" />
            <p>For more info, see the <a href="javascript:void(0);" (click)="navigateToSelectedLink({ text: 'Creating a shared class', url: '#createSC' , bool: 'createSC'},'2_1')">Creating a shared class</a> section</p>

            <h5><a href="javascript:void(0);" (click)="navigateToSelectedLink({ text: 'Creating a shared class from a procedure', url: '#sharedCSfromProc' , bool: 'sharedCSfromProc'},'2_2')">Creating a shared class from a procedure</a></h5>
            <p>
                There are many times where a stored procedure is needed to transport data.
                The best was to handle this is to create custom classes to match 1:1 the structured results.
                My Deals uses T4 templates to help automate this process.
            </p>
            <img src="/Images/docs/buildprocedurecode.png" style="margin: 10px 0 10px 25px;" />
            <p>For more info, see the <a href="javascript:void(0);" (click)="navigateToSelectedLink({ text: 'Creating a shared class from a procedure', url: '#sharedCSfromProc' , bool: 'sharedCSfromProc'},'2_2')">Creating a shared class from a procedure</a> section</p>

            <br /><br /><br />
        </div>
        <div id="createSC">
            <h1><img src="/Images/docs/icon-entity.png" height="60" />Creating a shared class</h1>
            <p>
                To create a class that can be consumed by all layers, the class needs to be created in the <i>Intel.MyDeals.Entities</i> project. This is the only project that is included in all layers of the project.
            </p>
            <img src="/Images/docs/buildcustomcode.png" style="margin: 10px 0 10px 25px;" />

            <div class="stepByStep">
                <i class="intelicon-task"></i>Step by Step
            </div>

            <p>
                To create custom shard classes, follow these steps:
            </p>
            <ol>
                <li>
                    Open the <i>Intel.MyDeals.Entities</i> project.<br />
                    <img src="/Images/docs/addnewclass.png" style="margin: 10px 0;" />
                </li>
                <li>
                    <i class="intelicon-mouse-outlined" style="font-size: 20px;"></i> <i>Right Click</i> and select <b>Add</b> > <b>Class</b>.<br/>
                </li>
                <li>
                    Define your class and save.  That's it.
                    <div class="note"><strong>Note:</strong> Don't forget to make the class Public.</div>
                </li>
            </ol>

        </div>
        <div id="sharedCSfromProc">
            <h1><img src="/Images/docs/icon-entity.png" height="60" />Creating a shared class from a procedure</h1>
            <p>
                There are many times where a stored procedure is needed to transport data.
                The best was to handle this is to create custom classes to match 1:1 the structured results.
                My Deals uses T4 templates to help automate this process.
            </p>
            <img src="/Images/docs/buildprocedurecode.png" style="margin: 10px 0 10px 25px;" />

            <div class="stepByStep">
                <i class="intelicon-task"></i>Step by Step
            </div>

            <p>
                To use the T4 templates to auto generate shared classes from a procedure, follow these steps:
            </p>
            <ol>
                <li>
                    Open the <strong>TableToClasses.tt</strong> file in the <i>Intel.MyDeals.Entities</i> project.<br />
                    <img src="/Images/docs/TableToClass.png" style="margin: 10px 0;" />
                </li>
                <li>
                    Enter a call to the stored procedure and declare the name of the class that will be generated.
                    The stored procedue must be executable, so if parameters are required to run the procedure, please apply them.

                    <div class="note"><strong>Note:</strong> It will actually execute the procedure, so try to make the return dataset minimal for better performance.</div>
                    <div class="noteBody">
                        In this example, the <i>db.PR_PING_DB</i> procedure is being called with no parameters. The results will create a class called <B>PingResults</B>.<br/>
                        <img src="/images/docs/samplecodesp.png" style="margin: 10px 0;"/><br/>
                    </div>
                </li>
                <li>
                    Sometimes there are errors generating the classes. This can be because the entered stored procedure call had some mistakes or the generation timed out.
                    Verify the generated code has no errors. To do this, expand the <strong>TableToClasses.tt</strong> file and open the <strong>TableToClasses.generated.cs</strong>.<br />
                    <img src="/Images/docs/TableToClassResults.png" style="margin: 10px 0;" /><br />

                    <div class="note"><strong>Note:</strong> Here is an example of what code is generated for a store procedure:</div>
                    <div class="noteBody">
                        <pre class="preCustom">
        {{generatedStoredProcedure}}   
    </pre>

                    </div>
                </li>
            </ol>

        </div>
        <div id="dataLibrary" >
            <h1><img src="/Images/docs/icon-data-library.png" height="60" />Intel.MyDeals.Library</h1>
            <p>
                Layer dedicated to making all database calls as well as data caching repository for performance.
            </p>

            <h3>Coding Practices</h3>
            <p>
                The following coding practices for the Data Library layer consist mainly of functions that gather data from the database or send requests to the database.
            </p>


            <h5><a href="javascript:void(0);" (click)="navigateToSelectedLink({ text: 'Calling a stored procedure', url: '#callingSP' , bool: 'callingSP'},'3_1')">Calling a stored procedure</a></h5>
            <p>
                Since all communication to the database is handled though stored procedures, it is important to understand how to call a stored procedure from My Deals.
            </p>
            <img src="/Images/docs/callproc.png" style="margin: 10px 0 10px 25px;" />
            <p>For more info, see the <a href="javascript:void(0);" (click)="navigateToSelectedLink({ text: 'Calling a stored procedure', url: '#callingSP' , bool: 'callingSP'},'3_1')">Calling a stored procedure</a> section</p>


            <h5><a href="javascript:void(0);" (click)="navigateToSelectedLink({ text: 'Creating a data cache', url: '#createDataCache' , bool: 'createDataCache'},'3_2')">Creating a data cache</a></h5>
            <p>
                When dealing with common large data, it is prudent to cache the data from the database into the middle tier.
            </p>
            <img src="/Images/docs/cache_create_intro.png" style="margin: 10px 0 10px 25px;" />
            <p>For more info, see the <a href="javascript:void(0);" (click)="navigateToSelectedLink({ text: 'Creating a data cache', url: '#createDataCache' , bool: 'createDataCache'},'3_2')">Creating a data cache</a> section</p>


            <h5><a href="javascript:void(0);" (click)="navigateToSelectedLink({ text: 'Managing cached data', url: '#manageCachedData' , bool: 'manageCachedData'},'3_3')">Managing cached data</a></h5>
            <p>
                When dealing with data caches, it is sometimes necessary to clear or repopulate the cache.
            </p>
            <img src="/Images/docs/cache_manager.png" style="margin: 10px 0 10px 25px;" />
            <p>For more info, see the <a href="javascript:void(0);" (click)="navigateToSelectedLink({ text: 'Managing cached data', url: '#manageCachedData' , bool: 'manageCachedData'},'3_3')">Managing cached data</a> section</p>

            <br /><br /><br />
        </div>
        <div id="callingSP">
            <h1><img src="/Images/docs/icon-data-library.png" height="60" />Calling a stored procedure</h1>
            <p>
                Since all communication to the database is handled though stored procedures, it is important to understand how to call a stored procedure from My Deals.<br />
                <img src="/Images/docs/callproc.png" style="margin: 10px 0 10px 25px;" />

                <div class="stepByStep">
                    <i class="intelicon-task"></i>Step by Step
                </div>

                <ol>
                    <li>
                        <i class="intelicon-checklist-outlined" style="font-size: 20px;"></i>Ensure you have included the <strong>stored procedure</strong> into My Deals. If you are unsure how to do this, please refer to the <a href="javascript:void(0); " (click)="navigateToSelectedLink({ text: 'Consume a stored procedure', url: '#consumeSP' , bool: 'consumeSP'}, '1_1')">Consume a stored procedure</a> section.
                    </li>
                    <li>
                        <i class="intelicon-checklist-outlined" style="font-size: 20px;"></i>Ensure you have included the <strong>shared class</strong> into My Deals. If you are unsure how to do this, please refer to the <a href="javascript:void(0);" (click)="navigateToSelectedLink({ text: 'Creating a shared class from a procedure', url: '#sharedCSfromProc' , bool: 'sharedCSfromProc'})">Creating a shared class from a procedure</a> section.
                    </li>
                    <li>
                        Locate the appropriate folder in the <i>Intel.MyDeals.DataLibrary</i> project. This project is grouped into appropriate folders. If there isn't a folder that matches your needs, create a new one.<br />
                        <img src="/Images/docs/datalibproj.png" style="margin: 10px 0;" />
                    </li>
                    <li>
                        Add a call to the stored procedure. Some procedures return data and others simply execute an action.<br />

                        <div class="note"><strong>Note:</strong> Here is an example of a store procedure that returns data:</div>
                        <div class="noteBody">
                            <pre class="preCustom">
        {{returnDataFromSP}}
    </pre>
                        </div>

                        <div class="alert alert-info" role="alert">
                            <strong>Quick Tip!</strong> For procedures that return data, most of the code needed is already generated from the <strong>TableToClass.generated.cs</strong> file. Feel free to cut and paste from there... I do!
                            For more info, see the <a href="javascript:void(0);">Creating a shared class from a procedure</a> section.
                        </div>

                        <div class="note"><strong>Note:</strong> Here is an example of a store procedure that just performs an action:</div>
                        <div class="noteBody">
                            <pre class="preCustom">
        {{storedProcForAction}}
    </pre>
                        </div>
                    </li>
                    <li>
                        Extract the public methods which you want to expose to Business Layer, create the appropriate folder in the <i>Intel.MyDeals.IDataLibrary</i>.
                        This layout needs to match the <i>Intel.MyDeals.DataLibrary.</i> folder structure.
                        <br />
                        <img src="/Images/docs/datalibInterfaceCreation.png" style="margin: 10px 0 10px 25px;" />
                        <div class="alert alert-info" role="alert">
                            <strong>Quick Tip!</strong> Keep the interface name same as class implementing it. Append it with prefix "I".
                        </div>
                    </li>
                    <li>
                        In the <i>Resolver.cs</i> file register the interface with implementing class in the container.
                        <br />
                        <img src="/Images/docs/datalibResolver.png" style="margin: 10px 0 10px 25px;" />
                        <div class="note">
                            <strong>Note:</strong> Here is an example, for registering ConstantLookupDataLib with IConstantLookupDataLib.
                        </div>
                        <div class="noteBody">
                            <pre class="preCustom">
        {{iConstlookupData}}
    </pre>
                        </div>
                    </li>
                </ol>
                <!-- </p> -->

                <br /><br /><br />
        </div>
        <div id="createDataCache">
            <h1><img src="/Images/docs/icon-data-library.png" height="60" />Creating a data cache</h1>
            <p>
                When dealing with common large data, it is prudent to cache the data from the database into the middle tier.
                In the <i>Intel.MyDeals.DataLibrary</i> project, there are times calls to procedures should be cached. For these items, we will need to add them to the cache store.
            <p>
                <br />
                <img src="/Images/docs/cache_create_intro.png" style="margin: 10px 0 10px 25px;" />

                <div class="stepByStep">
                    <i class="intelicon-task"></i>Step by Step
                </div>

                <ol>
                    <li>
                        <i class="intelicon-checklist-outlined" style="font-size: 20px;"></i>Ensure you have included the <strong>stored procedure</strong> into My Deals. If you are unsure how to do this, please refer to the <a href="javascript:void(0);" (click)="navigateToSelectedLink({ text: 'Consume a stored procedure', url: '#consumeSP' , bool: 'consumeSP'}, '1_1')">Consume a stored procedure</a> section.
                    </li>
                    <li>
                        <i class="intelicon-checklist-outlined" style="font-size: 20px;"></i>Ensure you have included the <strong>shared class</strong> into My Deals. If you are unsure how to do this, please refer to the <a href="javascript:void(0);" (click)="navigateToSelectedLink({ text: 'Creating a shared class from a procedure', url: '#sharedCSfromProc' , bool: 'sharedCSfromProc'},'2_2')">Creating a shared class from a procedure</a> section.
                    </li>
                    <li>
                        <i class="intelicon-checklist-outlined" style="font-size: 20px;"></i>Ensure you have exposed the <strong>stored procedure</strong> into My Deals. If you are unsure how to do this, please refer to the <a href="javascript:void(0);" (click)="navigateToSelectedLink({ text: 'Consume a stored procedure', url: '#consumeSP' , bool: 'consumeSP'}, '1_1')">Consume a stored procedure</a> section.
                    </li>
                    <li>
                        Locate the <b>Data Collections</b> folder in the <i>Intel.MyDeals.DataLibrary</i> project.
                        Open the <b>DataCollections.cs</b> file.<br />
                        <img src="/Images/docs/projDataCollections.png" style="margin: 10px 0;" />
                    </li>
                    <li>
                        <div class="alert alert-info" role="alert">
                            <strong>TODO</strong> - see if you can code the clear cache to dynamically clear cache instead of hard coding it.
                        </div>
                        <div class="alert alert-info" role="alert">
                            <strong>Important!</strong>
                            Determine the <i>BASE</i> for the cache. This will be the name of the class that needs to be cached. For example, if the class to be cached is <b>ToolConstants</b> then the <i>BASE</i> is <b>ToolConstants</b>.
                            This is important as all the instructions will refer to replacing the <i>BASE</i>.
                        </div>

                        <div class="alert alert-info" role="alert">
                            <strong>Important!</strong>
                            Determine the <i>BASE_DATA_LIB</i> for the <i>BASE</i>. This will be the name of the DataLibrary object and method.
                            For example, if the class to be cached is <b>ToolConstants</b> then the <i>BASE_DATA_LIB</i> is <b>ConstantLookupDataLib().GetToolConstants()</b>.
                            This is important as all the instructions will refer to replacing the <i>BASE_DATA_LIB</i>.
                        </div>
                    </li>
                    <li>
                        <p>
                            Create the call to populate the cache <b>IF</b> the private version is not populates.
                        </p>
                        <p>
                            To do this, you need to know some important information:
                        </p>
                        <ul>
                            <li><i>BASE</i>: Name of the class.</li>
                            <li><i>BASE_DATA_LIB</i>: Name of the BASE data library call (where the stored procedure is exposed).</li>
                        </ul>
                        <div class="note">
                            <strong>Template:</strong> Here is a template to follow (remember to substitute <i style="font-size: 12px;">{{baseText}}</i> and <i style="font-size: 12px;">{{baseTestDataLib}}</i>):
                        </div>
                        <div class="noteBody">
                            <pre class="preCustom">
        {{baseCode}}
    </pre>
                        </div>
                        <div class="note">
                            <strong>Note:</strong> Here is an example where the <i style="font-size: 12px;">BASE</i> is <b>ToolConstants</b>:
                        </div>
                        <div class="noteBody">
                            <pre class="preCustom">
        {{staticList}}
    </pre>
                        </div>
                    </li>
                    <li>
                        <div>
                            <p>
                                To expose the Datacollection static class methods to Business layer write a wrapper method inside <b>DataCollectionsDataLib</b>,
                                which will call the DataCollection static method. Extract the method signature into IDataCollectionsDataLib interface.
                            </p>
                            <i>IDataCollectionsDataLib is already registered with DataCollectionsDataLib type, thus no entry required in <b>Resolver.cs</b></i>
                        </div>
                        <div class="note">
                            <strong>Note:</strong> Here is an example!
                        </div>
                        <div class="noteBody">
                            <pre class="preCustom">
        {{dataLibWrapperClass}}
    </pre>
                        </div>
                    </li>
                </ol>
                <br /><br /><br />
        </div>
        <div id="manageCachedData">
            <h1><img src="/Images/docs/icon-data-library.png" height="60" />Managing cached data</h1>
            <p>
                When dealing with data caches, it is sometimes necessary to clear or repopulate the cache.  To do this, use the Cache Manager.
            </p>
            <br />
            <img src="/Images/docs/cache_manager.png" style="margin: 10px 0 10px 25px;" />

            <div class="stepByStep">
                <i class="intelicon-task"></i>Cache Manager
            </div>
            <ol>
                <li>
                    Open the Cache Manager. At the time this was written, the url is <b>/Admin/Cache</b>.
                </li>
                <li>
                    In the <b>Cache Status</b> section, all the available data caches will be listed.
                    Actions can be preformed on an individual data cache with the icons that appear next to the data cache name or actions can be performed on the entire data cache list using the buttons that appear below the list.<br/>
                </li>
            </ol>

            <br /><br /><br />
        </div>
        <div id="businessLogic">
            <h1><img src="/Images/docs/icon-bus-logic.png" height="60" />Intel.MyDeals.BusinessLogic</h1>
            <p>
                Layer dedicated to hold the business logic for My Deals.  Most of the logic for the application should reside in this layer.  There should be NO database access from this layer.
            </p>

            <h3>Coding Practices</h3>
            <p>
                The following coding practices for the Business Logic layer is intended to be where most of the business logic is located.  Except for database calls and metadata driven business logic, all other business logic belongs here.
            </p>


            <h5><a href="javascript:void(0);" (click)="navigateToSelectedLink({ text: 'Business logic layout', url: '#businessLogicLayout' , bool: 'businessLogicLayout'},'4_1')">Business logic layout</a></h5>
            <p>
                Since this layer will hold most of the code, we need to make sure we keep it structured in an easy to manage layout. This layout needs to match the <i>Intel.MyDeals.DataLibrary</i> folder structure.
            </p>
            <img src="/Images/docs/callproc.png" style="margin: 10px 0 10px 25px;" />
            <p>For more info, see the <a href="javascript:void(0);" (click)="navigateToSelectedLink({ text: 'Business logic layout', url: '#businessLogicLayout' , bool: 'businessLogicLayout'},'4_1')">Business logic layout</a> section</p>


            <h5><a href="javascript:void(0);" (click)="navigateToSelectedLink({ text: 'Business logic scope', url: '#businessLogicScope' , bool: 'businessLogicScope'},'4_2')">Business logic scope</a></h5>
            <p>
                Want to know what belongs in this project?  Let's look at the scope of this project to understand what really goes here.
            </p>
            <img src="/Images/docs/cache_create_intro.png" style="margin: 10px 0 10px 25px;" />
            <p>For more info, see the <a href="javascript:void(0);" (click)="navigateToSelectedLink({ text: 'Business logic scope', url: '#businessLogicScope' , bool: 'businessLogicScope'},'4_2')">Business logic scope</a> section</p>


            <br /><br /><br />
        </div>
        <div id="businessLogicLayout">
            <h1><img src="/Images/docs/icon-bus-logic.png" height="60" />Business logic layout</h1>
            <p>
                Since this layer will hold most of the code, we need to make sure we keep it structured in an easy to manage layout. This layout needs to match the <i>Intel.MyDeals.DataLibrary</i> folder structure.<br />
                <img src="/Images/docs/busloglayout.png" style="margin: 10px 0 10px 25px;" />
            </p>

            <div class="stepByStep">
                <i class="intelicon-task"></i>Step by Step
            </div>

            <ol>
                <li>
                    Open the <i>Intel.MyDeals.BusinessLogic</i> project. Notice all the folders. These should match what is in the <i>Intel.MyDeals.DataLibrary</i> project.
                    If you need a new folder, make sure you add a matching folder in both projects.<br />
                    <img src="/Images/docs/businesslogiclayout.png" style="margin: 10px 0;" />
                </li>
            </ol>

            <br /><br /><br />
        </div>
        <div id="businessLogicScope">
            <h1><img src="/Images/docs/icon-bus-logic.png" height="60" />Business logic scope</h1>
            <p>
                Want to know what belongs in this project?  Let's look at the scope of this project to understand what really goes here.
                <img src="/Images/docs/buslogscope.png" style="margin: 10px 0 10px 25px;" />
            </p>
            <p>

            </p>

            <div class="stepByStep">
                <i class="intelicon-plus-solid" style="color: #C4D600;"></i>What is in scope
            </div>

            <ol>
                <li>
                    Logic around object interaction.  For example, prior to a deal save, deal validation must occur.
                </li>
                <li>
                    Logic around object conversion.  For example converting deal dictionaries into data collectors.
                </li>
                <li>
                    <b>This page is still being updated!!!</b>
                </li>
                <li>
                    ...
                </li>
            </ol>

            <div class="stepByStep">
                <i class="intelicon-minus-solid" style="color: #ED1C24;"></i>What is out of scope
            </div>

            <ol>
                <li>
                    Any metadata driven business rules.  Business rules belong in the <a href="javascript:void(0);" (click)="navigateToSelectedLink({ url: '#businessRules', bool: 'businessRules'})">Intel.MyDeals.BusinessRules</a> project.
                </li>
                <li>
                    Any call to the database. Calls to the database belong in the <a href="javascript:void(0);" (click)="navigateToSelectedLink({ url: '#dataLibrary', bool: 'dataLibrary'})">Intel.MyDeals.DataLibrary</a> project.
                </li>
                <li>
                    <b>This page is still being updated!!!</b>
                </li>
                <li>
                    ...
                </li>
            </ol>

            <br /><br /><br />
        </div>
        <div id="businessLogicFunction">
            <h1><img src="/Images/docs/icon-bus-logic.png" height="60" />Business logic function</h1>
            <p>
                The business layer will end up holding most of the code.  Business logic functions simply represent code blocks of business logic stored in the business layer.<br/>
                <img src="/Images/docs/buslogfunc.png" style="margin: 10px 0 10px 25px;" />
            </p>

            <div class="stepByStep">
                <i class="intelicon-task"></i>Step by Step
            </div>

            <ol>
                <li>
                    Open the <i>Intel.MyDeals.BusinessLogic</i> project. Notice all the folders. These should match what is in the <i>Intel.MyDeals.DataLibrary</i> project.
                    If you need a new folder, make sure you add a matching folder in both projects.<br />
                    <img src="/Images/docs/businesslogiclayout.png" style="margin: 10px 0;" />
                </li>
                <li>
                    Add your business function here.  Keep in mind the code segments should be rather small and coded in a way it can efficiently be used by automated testing.<br />
                    <div class="note"><strong>Note:</strong> Here is an example of a business logic function:</div>
                    <div class="noteBody">
                        <pre class="preCustom">
        {{businessLogicFunction}}
    </pre>
                    </div>
                </li>
            </ol>


            <br /><br /><br />
        </div>
        <div id="businessLogicCallProcedure">
            <h1><img src="/Images/docs/icon-bus-logic.png" height="60" />Call a stored procedure</h1>
            <p>
                Actually... you <b>CANNOT</b> call a stored procedure from the Business Logic layer.  Instead, a Data Library function must be called which will in turn call the stored procedure.
                <img src="/Images/docs/buslogproc.png" style="margin: 10px 0 10px 25px;" />
            </p>

            <div class="stepByStep">
                <i class="intelicon-task"></i>Step by Step
            </div>

            <ol>
                <li>
                    Open the <i>Intel.MyDeals.BusinessLogic</i> project. Notice all the folders. These should match what is in the <i>Intel.MyDeals.DataLibrary</i> project.
                    If you need a new folder, make sure you add a matching folder in both projects.<br />
                    <img src="/Images/docs/businesslogiclayout.png" style="margin: 10px 0;" />
                </li>
                <li>
                    Add your business function here.  Keep in mind the code segments should be rather small and coded in a way it can efficiently be used by automated testing.
                    <p>To mock the DataLib during unit testing, inject dependency via constructor.</p>
                    <div class="note"><strong>Note:</strong> Here is an example of a business logic function:</div>
                    <div class="noteBody">
                        <pre class="preCustom">
        {{businessLgcFndataColDataLib}}
    </pre>
                    </div>
                </li>
                <li>
                    Extract the public methods which you want to expose to Api Layer, create the appropriate folder in the <i>Intel.MyDeals.IBusinessLogic</i>.
                    This layout needs to match the <i>Intel.MyDeals.BusinessLogic.</i> folder structure.
                    <br />
                    <img src="/Images/docs/libinterface.png" style="margin: 10px 0 10px 25px;" />
                    <div class="alert alert-info" role="alert">
                        <strong>Quick Tip!</strong> Keep the interface name same as class implementing it. Append it with prefix "I".
                    </div>
                </li>
                <li>
                    In the <i>Resolver.cs</i> file register the interface with implementing class in the container.
                    <br />
                    <img src="/Images/docs/libResolver.png" style="margin: 10px 0 10px 25px;" />
                    <div class="note">
                        <strong>Note:</strong> Here is an example, for registering ConstantLookupLib with IConstantLookupLib.
                    </div>
                    <div class="noteBody">
                        <pre class="preCustom">
        {{iConstlookupData}}
    </pre>
                    </div>
                </li>
            </ol>

            <br /><br /><br />
        </div>
        <div id="businessLogicCallCache">
            <h1><img src="/Images/docs/icon-bus-logic.png" height="60" />Call from data cache</h1>
            <p>
                Instead of calling a stored procedure every time, there are cases where caching the data is more efficient.
                <img src="/Images/docs/buslogcache.png" style="margin: 10px 0 10px 25px;" />
            </p>

            <div class="stepByStep">
                <i class="intelicon-task"></i>Step by Step
            </div>

            <ol>
                <li>
                    Open the <i>Intel.MyDeals.BusinessLogic</i> project. Notice all the folders. These should match what is in the <i>Intel.MyDeals.DataLibrary</i> project.
                    If you need a new folder, make sure you add a matching folder in both projects.<br />
                    <img src="/Images/docs/businesslogiclayout.png" style="margin: 10px 0;" />
                </li>
                <li>
                    Add your business function here.  Keep in mind the code segments should be rather small and coded in a way it can efficiently be used by automated testing.<br />
                    <div class="note"><strong>Note:</strong> Here is an example of a business logic function calling the DataCollectionsDataLib <b>cache</b> instead of the procedure(ConstantLookupDataLib). <b>DataCollectionsDataLib</b> calls <b>DataCollections</b> static methods.</div>
                    <div class="noteBody">
                        <pre class="preCustom">
        {{businessLgcFndataColDataLib}}
    </pre>
                    </div>
                </li>
            </ol>


            <br /><br /><br />
        </div>
        <div id="businessRules">
            <h1><img src="/Images/docs/incon-bus-rules.png" height="60" />Intel.MyDeals.BusinessRules</h1>
            <p>
                Layer dedicated to hold the business rules and validation. These should be driven completely off MetaData. Below is the folder structure.
            </p>
            <div><img src="Client\Images\docs\Business-rules.png" style="height:400px" /></div>
            <br /><br /><br />
        </div>
        <div id="app" style="height: auto;">
            <h1><img src="/Images/docs/icon-app-layer.png" height="60" /> Intel.MyDeals.App</h1>
            <p>
                Layer dedicated to housing Application specific information such as Application View Model, Application Library, and Application Settings.
            </p>

        </div>
        <div id="myDeals">
            <h1><img src="/Images/docs/icon-presentation.png" height="60" /> Intel.MyDeals</h1>
            <p>
                Layer to hold all database connection libraries. These are the tools used by the <a href="javascript:void(0);" (click)="navigateToSelectedLink({ url: '#dataLibrary', bool: 'dataLibrary'})">Data Libraries</a> to access the Database via <a href="javascript:void(0);" (click)="navigateToSelectedLink({ text: 'Consume a stored procedure', url: '#consumeSP' , bool: 'consumeSP'}, '1_1')">Stored Procedures</a>.
            </p>

            <h3>Coding Practices</h3>
            <p>
                The following coding practices for the Data Access layer consist mainly of consuming Stored Procedures that will be used by the <a href="javascript:void(0);" (click)="navigateToSelectedLink({ url: '#dataLibrary', bool: 'dataLibrary'})">Data Libraries</a>.
            </p>

            <h5><a href="javascript:void(0);" (click)="navigateToSelectedLink({ text: 'Create a MVC Controller', url: '#presentationMvcController' , bool: 'presentationMvcController'},'7_1')">Create a MVC Controller</a></h5>
            <p>
                To include a newly created stored procedure into the My Deals project, you simply need to have compile the <strong>SPClassGenerator.tt</strong> T4 Template.
            </p>
            MVC Controllers rely on routing from the URL to pick which controller to instanciate.
            The controller is responsible for intercepting the HTTP request and communicating with the <b>Model</b> and the <b>View</b>.<br />
            <img src="/Images/docs/mvc.png" style="margin: 10px 0 10px 25px;"/>
            <p>For more info, see the <a href="javascript:void(0);" (click)="navigateToSelectedLink({ text: 'Create a MVC Controller', url: '#presentationMvcController' , bool: 'presentationMvcController'}, '7_1')">Create a MVC Controller</a> section</p>

            <br /><br /><br />
        </div>
        <div id="presentationMvcController">
            <h1><img src="/Images/docs/icon-presentation.png" height="60" />Create a MVC Controller</h1>
            <p>
                MVC Controllers rely on routing from the URL to pick which controller to instanciate.
                The controller is responsible for intercepting the HTTP request and communicating with the <b>Model</b> and the <b>View</b>.<br/>
                <img src="/Images/docs/mvc.png" style="margin: 10px 0;" />
            </p>

            <div class="stepByStep">
                <i class="intelicon-task"></i>Step by Step
            </div>

            <ol>
                <li>
                    Open the <i>Intel.MyDeals</i> project and find the <b>Controllers</b> folder. <br />
                    <img src="/Images/docs/projController.png" style="margin: 10px 0;" />
                </li>
                <li>
                    Add a new MVC Controller. To do this, right click on the <b>Controllers</b> folder and select <b>Add</b> -> <b>Controller</b>.<br />
                    <img src="/Images/docs/addController.png" style="margin: 10px 0;" />
                </li>
                <li>
                    Select the type of Controller. In the popup dialog, select <b>MVC Controller</b>.<br />
                    <img src="/Images/docs/addScaffold.png" style="margin: 10px 0;" />
                </li>
                <li>
                    After the controller is created, the appropriate Opaque calls and My Deals calls need to be added.<br/>
                    <div class="note"><strong>Note:</strong> Here is an example of a controller for <b>Others</b>.
                    </div>
                    <div class="noteBody">
                        <pre class="preCustom">        
        {{controllerForOthers}}
    </pre>
                    </div>
                </li>
            </ol>
            <br /><br /><br />
        </div>
        <div id="presentationWebApi">
            <h1><img src="/Images/docs/icon-presentation.png" height="60" />Creating API Controller</h1>
            <p>
                Web API is a framework that makes it easy to build HTTP services that reach a broad range of clients, including browsers and mobile devices.
                Web API is an ideal platform for building RESTful applications on the .NET Framework.<br/>
                <img src="/Images/docs/webapi.png" style="margin: 10px 0;"/>
            </p>

            <p>
                In My Deals, we will keep our Web APIs clean. This means the Web API should only have code to handle errors in the API calls.
                Any other logic should exist in the <b>Business Logic</b> layer and be called from the Web API.
                This will allow the business logic to be re-used by other API calls, MVC controllers or shared libraries.
            </p>

            <div class="stepByStep">
                <i class="intelicon-task"></i>Step by Step
            </div>

            <ol>
                <li>
                    Open the <i>Intel.MyDeals</i> project and find the <b>Controllers</b> folder. Then locate the <b>API</b> folder<br />
                    <img src="/Images/docs/projControllerAPI.png" style="margin: 10px 0;" />
                </li>
                <li>
                    Add a new API Controller. To do this, right click on the <b>Controllers</b> folder and select <b>Add</b> -> <b>Controller</b>.<br />
                    <img src="/Images/docs/addApiController.png" style="margin: 10px 0;" />
                </li>
                <li>
                    Select the type of Controller. In the popup dialog, select <b>Web API 2 Controller - Empty</b>.<br />
                    <img src="/Images/docs/addScaffoldAPI.png" style="margin: 10px 0;" />
                </li>
                <li>
                    Enter the name of the Web API controller. In the popup dialog, enter the controller name but make sure to leave <b>Controller</b> at the end of the name.<br />
                    <img src="/Images/docs/addApicontrollerDialog.png" style="margin: 10px 0;" />
                </li>
                <li>
                    After the API controller is created, the appropriate Opaque calls and My Deals calls need to be added.<br />

                    <div class="alert alert-info" role="alert" style="margin-top: 10px;">
                        <strong>Route Tip!</strong> Web APIs will default to use the global router mapping defined for the application, but by proving a <b>[Route]</b> a specific URL address can be mapped to your Web API.
                    </div>

                    <div class="note">
                        <strong>Note:</strong> Here is an example of an API controller for <b>Constants</b> called <i style="font-size: 12px;">GetConstants</i>.
                    </div>
                    <div class="noteBody">
                        <pre class="preCustom">
        {{calledConstants}}
    </pre>
                    </div>
                </li>
                <li>
                    Want to try it out? <button class="btn btn-primary btnDesignFlows" type="button" (click)="testApi()" style="margin-left: 25px;">HealthCheck API</button>
                    <div id="resultsTestApi">
                        <div *ngIf="isErrorVisible">
                            <div>{{reasonData}}</div>
                            </div>
                        </div>
                </li>
        </ol>
        <br /><br /><br />
    </div>

        <div id="presentationCallWebApi">
            <h1><img src="/Images/docs/icon-presentation.png" height="60" />Calling a Web API</h1>
            <p>
                The beauty of Web APIs is they can be called many different ways. They can perform CRUD operations or custom actions.
                They can be RESTful, They can be called from a console app, windows app, web site, mobile or any other platfor that supports HTTP.
                <br/>
                <img src="/Images/docs/webapi.png" style="margin: 10px 0;" />
            </p>
        
            <p>
                In My Deals, the web client can use many different design techniques to call a Web API service.
                This description is just one of many ways to call a Web API.
                Over time, as more common patterns form, feel free to document them here.
            </p>
            <p>Here are the steps to make API calls in Angular.</p>
            <div class="stepByStep">
                <i class="intelicon-task"></i>Step by Step
            </div>
            <p>Step 1 : Import the HttpClient Module in your app.module.ts file. <br /></p>
            <div class="note"><strong>Note:</strong> Here is an example</div>
            <div class="noteBody">
                <pre class="preCustom">
                 {{appModuleEg}}
                </pre>
            </div>
            <p>Step 2 : Create new service to handle HTTP requests, can create methods to handle different types of requests (GET, POST, PUT, DELETE etc). <br /></p>
            <div class="note"><strong>Note:</strong> Here is an example</div>
            <div class="noteBody">
                <pre class="preCustom">
               {{serviceodeEx}}
               </pre>
            </div>
            <p>Step 3 : We need to inject the API Service into our component where we want to use, the service class should be added to the constructor of your compoenent. <br /></p>
            <p>Step 4 : Use the methods defined in the service to make API calls, in the below we are using getFunFactItems() method to render unique funFacts everytime from get service call.</p>
            <div class="note"><strong>Note:</strong> Here is an example</div>
            <div class="noteBody">
                <pre class="preCustom">
               {{subscribeCodeEx}}
              </pre>
            </div>
        </div>
        <div id="presentationAngularViews">
            <img style="height:70px;position: relative; right: 35px;" src="/Images/docs/angular.png" /><h1 class="heading-projectup">Creating Angular Component</h1>
            <div>
                <p style="position:relative;bottom:20px">
                    The first and topmost layer of My deals application is the presentation layer which is build using Angular 12 framework, where users can interact with the UI. For creating an angular component Angular CLI is generally used. Open terminal and type the command, ng generate component component-name, (example: ng g c admin). The naming convention followed is component name is suffixed with respective files like admin.component.ts , admin.component.html. Please refer the below image. <br />
                    Note: .specs.ts file is used for unit testing of the application (can be added later when required).
                </p>
                <br />
                <div style="padding: 20px 5px 0 5px; text-align: left;">
                    <img src="\Client\Images\docs\Ang-component.png" />
                    <img src="\Client\Images\docs\Admin-ag-files.png" style="padding: 20px;" />
                    <img src="\Client\Images\docs\admin-ts-file.png" />
                </div>
            </div>

            <p>
                In My Deals, the web client has different SPA modules. Each module resides inside a html page for example Admin, Cost Test, Dashboard,
                Reporting and Contract. As no compile time errors thrown from javascript its extremely important to follow the
                standard guidelines while adding angular views for easy maintenance, debugging and re usability.
                when you load the application for the first time, not all the pages from the server will be rendered.
                It's only index.html that loads when you load the application. Since only a single page is loaded it is called SPA.
            </p>
            <h4>My Deals Angular app Structure</h4>
            <p>Under Intel.MyDeals, angular project files are placed in the client folder. The key project files where the source code is written is located in the app/directory inside the src folder. Main component is the app component/root component and app component has serveral nested root componenets like admin, contract, coding practices etc.</p>
            <img src="\client\Images\docs\Client-folder1.png" style="height:450px;width: 245px;" />
            <p>
                This structure will follows the LIFT guidelines
                <ol>
                    <li>Locating our code is easy</li>
                    <li>Identify code at a glance</li>
                    <li>Flat structure as long as we can</li>
                    <li>Try to stay DRY (Don't Repeat Yourself)</li>
                </ol>
                <!-- </p> -->
            <p>
                The application has a base module app, other modules will be bootstrapped with the base module.
                The @NgModule decorator indentifies AppModule as an angular module class and the @NgModule takes metadata object that tells angular how to complie and launch the MyDeals application, you need to declare any newly created components in declarations section of app.module.ts file as shown below.
            </p>
            <div class="note"><strong>Note:</strong> Here is an example</div>
            <div class="noteBody">
                <pre class="preCustom">
        {{baseAppModuleCode}}
    </pre>
            </div>
            <p>
                Core module consists of all the built in modules of angular(ngAnimate, ngSanitize)
                and any other third party libraries(uibootstrap) reusable across the application. Blocks modules contain all reusable or helper methods. Building blocks
                of the application logging, exception handling and routing wrapper methods are written here.
            </p>
            <div class="note"><strong>Note:</strong> Here is an example</div>
            <div class="noteBody">
                <pre class="preCustom">
        {{blockModule}}
    </pre>
            </div>
            <div><a href="https://intel.sharepoint.com/:w:/r/sites/MyDealsTeam/Shared%20Documents/General/Angular/Option3_development_steps.docx?d=w673d3c128a3347a1ba2636c62b2af84f&csf=1&web=1&e=1nAml0" target="_blank" class="btn-ttl-coding">Click here</a> for more details on <b>Angular Project Setup.</b></div>
            <div id="examples">
                <h1><img src="/Images/docs/examples.png" height="60" />Examples</h1>
                <p>
                    Here are some examples of some common tasks
                </p>

                <h5><a href="javascript:void(0);" (click)="navigateToSelectedLink({ text: 'Managing data from a procedure with cache', url: '#dataFromProcWithCache' , bool: 'dataFromProcWithCache'},'8_1')">Managing data from a procedure with cache</a></h5>
                <p>
                    This example shows how to manage data returned from a procedure using the cache manager.
                </p>

                <h5><a href="javascript:void(0);" (click)="navigateToSelectedLink({ text: 'Managing data from an api with cache output', url: '#dataFromApiWithCache' , bool: 'dataFromApiWithCache'}, '8_2')">Managing data from an api with cache output</a></h5>
                <p>
                    This example shows how to manage cache returned from an api
                </p>

                <br /><br /><br />
            </div>
            <div id="dataFromProcWithCache" >
                <h1><img src="/Images/docs/examples.png" height="60" />Managing data from a procedure with cache</h1>
                <p>
                    This example show how to manage data returned from a procedure using the cache manager.
                </p>
                <p>
                    Take for instance we have a Constanst table in the database and a procedure called <b>[dbo].[PR_GET_CONSTANTS]</b> to retrieve the data.
                    Our task is to make this data freely available in code without having to make many calls to the DB.  So, this means we need to cache to results.  Here is how that is done.
                </p>

                <div class="stepByStep">
                    <i class="intelicon-task"></i>Step by Step
                </div>

                <div class="panel-group panelAccord" id="accordion" role="tablist" aria-multiselectable="true">

                    <div class="panel panel-default">
                        <div class="panel-heading" role="tab" id="headingOne">
                            <h4 class="panel-title" style="font-size: 14px;">
                                <a class="collapsed" role="button" data-toggle="collapse" data-parent="#accordion" href="#collapseOne" aria-expanded="false" aria-controls="collapseOne">
                                    <i class="intelicon-right-next"></i>
                                    First we need to make sure the procedure is exposed to the project.
                                    <div class="fr">
                                        (<a href="javascript:void(0);" (click)="navigateToSelectedLink({ text: 'Consume a stored procedure', url: '#consumeSP' , bool: 'consumeSP'},'1_1')">Consume a stored procedure</a>)
                                    </div>
                                </a>
                            </h4>
                        </div>
                        <div id="collapseOne" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingOne">
                            <div class="panel-body">
                                <ol>
                                    <li>
                                        Open the <strong>SPClassGenerator.tt</strong> file in the <i>Intel.MyDeals.DataAccessLib</i> project.<br />
                                        <img src="/Images/docs/datalibproj.png" style="margin: 10px 0;"/>
                                    </li>
                                    <li>
                                        <strong>Do not change this file!!!</strong> All you need to do is save the file and it will compile the T4 template and generate the C# code.
                                    </li>
                                    <li>
                                        Verify your stored procedure is locate in the generated code. To do this, expand the <strong>SPClassGenerator.tt</strong> file and open the <strong>SPClassGenerator1.generated.cs</strong> and search for your stored procedure.<br />
                                        <img src="/Images/docs/SPClassGeneratorResults.png" style="margin: 10px 0;"/><br/>

                                        <div class="note">
                                            <strong>Note:</strong> Here is an example of what code is generated for a store procedure:
                                        </div>
                                        <div class="noteBody">
                                            <img src="/Images/docs/ex_proc_results.png" style="margin: 10px 0;"/>
                                        </div>
                                    </li>
                                </ol>
                            </div>
                        </div>
                    </div>

                    <div class="panel panel-default">
                        <div class="panel-heading" role="tab" id="headingTwo">
                            <h4 class="panel-title" style="font-size: 14px;">
                                <a class="collapsed" role="button" data-toggle="collapse" data-parent="#accordion" href="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
                                    <i class="intelicon-right-next"></i>
                                    Next we need to create a class to hold the returned data from the procedue.
                                    <div class="fr">
                                        (<a href="javascript:void(0);" (click)="navigateToSelectedLink({ text: 'Creating a shared class from a procedure', url: '#sharedCSfromProc' , bool: 'sharedCSfromProc'},'2_2')">Creating a shared class from a procedure</a>)
                                    </div>
                                </a>
                            </h4>
                        </div>
                        <div id="collapseTwo" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingTwo">
                            <div class="panel-body">
                                <ol>
                                    <li>
                                        Open the <strong>TableToClasses.tt</strong> file in the <i>Intel.MyDeals.Entities</i> project.<br />
                                        <img src="/Images/docs/TableToClass.png" style="margin: 10px 0;" />
                                    </li>
                                    <li>
                                        Enter a call to the stored procedure and declare the name of the class that will be generated.
                                        The stored procedue must be executable, so if parameters are required to run the procedure, please apply them.

                                        <div class="note">
                                            <strong>Note:</strong> It will actually execute the procedure, so try to make the return dataset minimal for better performance.
                                        </div>
                                        <div class="noteBody">
                                            In this example, the <i>dbo.PR_GET_CONSTANTS</i> procedure is being called with no parameters. The results will create a class called <B>ToolConstants</B>.<br />
                                            <img src="/images/docs/ex_code_class.png" style="margin: 10px 0;" /><br />
                                        </div>
                                    </li>
                                    <li>
                                        Sometimes there are errors generating the classes. This can be because the entered stored procedure call had some mistakes or the generation timed out.
                                        Verify the generated code has no errors. To do this, expand the <strong>TableToClasses.tt</strong> file and open the <strong>TableToClasses.generated.cs</strong>.<br />
                                        <img src="/Images/docs/TableToClassResults.png" style="margin: 10px 0;" /><br />

                                        <div class="note">
                                            <strong>Note:</strong> Here is an example of what code is generated for a store procedure:
                                        </div>
                                        <div class="noteBody">
                                            <pre class="preCustom">
        {{generateSC}}
    </pre>
                                        </div>
                                    </li>
                                </ol>
                            </div>
                        </div>
                    </div>

                    <div class="panel panel-default">
                        <div class="panel-heading" role="tab" id="headingThree">
                            <h4 class="panel-title" style="font-size: 14px;">
                                <a class="collapsed" role="button" data-toggle="collapse" data-parent="#accordion" href="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
                                    <i class="intelicon-right-next"></i>
                                    Next we need to call the stored procedure.
                                    <div class="fr">
                                        (<a href="javascript:void(0);" (click)="navigateToSelectedLink({ text: 'Calling a stored procedure', url: '#callingSP' , bool: 'callingSP'},'3_1')">Calling a stored procedure</a>)
                                    </div>
                                </a>
                            </h4>
                        </div>
                        <div id="collapseThree" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingThree">
                            <div class="panel-body">
                                <ol>
                                    <li>
                                        Locate the <b>Constants Lookups</b> folder in the <i>Intel.MyDeals.DataLibrary</i> project.
                                        We want to open the <b>ConstantLookupDataLib.cs</b> file.<br />
                                        <img src="/Images/docs/datalibproj.png" style="margin: 10px 0;" />
                                    </li>
                                    <li>
                                        Now we need to add the procedure call.  Look at the generated output from the T4 Template for examples.<br />

                                        <div class="note">
                                            <strong>Note:</strong> Here is the <b>PR_GET_CONSTANTS</b> store procedure call:
                                        </div>
                                        <div class="noteBody">
                                            <pre class="preCustom">
        {{getConstantsSP}}
    </pre>
                                        </div>
                                    </li>
                                </ol>
                            </div>
                        </div>
                    </div>

                    <div class="panel panel-default">
                        <div class="panel-heading" role="tab" id="headingFour">
                            <h4 class="panel-title" style="font-size: 14px;">
                                <a class="collapsed" role="button" data-toggle="collapse" data-parent="#accordion" href="#collapseFour" aria-expanded="false" aria-controls="collapseFour">
                                    <i class="intelicon-right-next"></i>
                                    Now we can creating a data cache.
                                    <div class="fr">
                                        (<a href="javascript:void(0);" (click)="navigateToSelectedLink({ text: 'Creating a data cache', url: '#createDataCache' , bool: 'createDataCache'},'3_2')">Creating a data cache</a>)
                                    </div>
                                </a>
                            </h4>
                        </div>
                        <div id="collapseFour" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingFour">
                            <div class="panel-body">
                                <ol>
                                    <li>
                                        Locate the <b>Data Collections</b> folder in the <i>Intel.MyDeals.DataLibrary</i> project.
                                        Open the <b>DataCollections.cs</b> file.<br />
                                        <img src="/Images/docs/projDataCollections.png" style="margin: 10px 0;" />
                                    </li>
                                    <li>
                                        <p>
                                            Create the call to populate the cache <b>IF</b> the private version is not populates.
                                        </p>
                                        <p>
                                            To do this, you need to know some important information:
                                            <ul>
                                                <li><i>BASE</i>: Name of the class. For us it is <b>ToolConstants</b></li>
                                                <li><i>BASE_DATA_LIB</i>: Name of the BASE data library call (where the stored procedure is exposed).  For us it is <b>ConstantLookupDataLib().GetToolConstants()</b></li>
                                            </ul>
                                            <!-- </p> -->
                                            <div class="note">
                                                <strong>Code:</strong> Now we add the following code.
                                            </div>
                                            <div class="noteBody">
                                                <pre class="preCustom">
        {{populateCache}}
    </pre>
                                            </div>

                                    </li>
                                </ol>
                            </div>
                        </div>
                    </div>

                    <div class="panel panel-default">
                        <div class="panel-heading" role="tab" id="headingFive">
                            <h4 class="panel-title" style="font-size: 14px;">
                                <a class="collapsed" role="button" data-toggle="collapse" data-parent="#accordion" href="#collapseFive" aria-expanded="false" aria-controls="collapseFive">
                                    <i class="intelicon-right-next"></i>
                                    Create a business logic function to call the cache.
                                    <div class="fr">
                                        (<a href="javascript:void(0);" (click)="navigateToSelectedLink({ text: 'Call from data cache', url: '#businessLogicCallCache' , bool: 'businessLogicCallCache'},'5_5')">Call from data cache</a>)
                                    </div>
                                </a>
                            </h4>
                        </div>
                        <div id="collapseFive" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingFive">
                            <div class="panel-body">
                                <ol>
                                    <li>
                                        Open the <b>ConstantsLookupsLib.cs</b> from the <b>Constants Lookups</b> folder in the <i>Intel.MyDeals.BusinessLogic</i> project.<br />
                                        <img src="/Images/docs/constantDataLibProj.png" style="margin: 10px 0;" />
                                    </li>
                                    <li>
                                        Next we will create a business logic function that calls the <b>cached</b> function instead of calling the Constants DataLibary function directly.<br />
                                        <div class="note"><strong>Note:</strong> We need to call the <b>DataCollections.GetToolConstants</b> function which will return the cache version if applicable.</div>
                                        <div class="noteBody">
                                            <pre class="preCustom">        
        {{cacheFunctionCall}}
    </pre>
                                        </div>
                                    </li>
                                </ol>
                            </div>
                        </div>
                    </div>

                    <div class="panel panel-default">
                        <div id="collapseSix" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingSix">
                            <div class="panel-body">
                                <ol>
                                    <li>
                                        Open the <i>Intel.MyDeals</i> project and find the <b>Controllers</b> folder. Then locate the <b>API</b> folder<br />
                                        <img src="/Images/docs/projControllerAPI.png" style="margin: 10px 0;" />
                                    </li>
                                    <li>
                                        Add a new API Controller. To do this, right click on the <b>Controllers</b> folder and select <b>Add</b> -> <b>Controller</b>.<br />
                                        <img src="/Images/docs/addApiController.png" style="margin: 10px 0;" />
                                    </li>
                                    <li>
                                        Select the type of Controller. In the popup dialog, select <b>Web API 2 Controller - Empty</b>.<br />
                                        <img src="/Images/docs/addScaffoldAPI.png" style="margin: 10px 0;" />
                                    </li>
                                    <li>
                                        Enter the name of the Web API controller as <b>ConstantsController</b>.<br />
                                        <img src="/Images/docs/addApicontrollerDialog.png" style="margin: 10px 0;" />
                                    </li>
                                    <li>
                                        After the API controller is created, enter the following.<br />

                                        <div class="note">
                                            <strong>Code:</strong> Your code should look something like this.
                                        </div>
                                        <div class="noteBody">
                                            <pre class="preCustom">        
        {{sampleCodeForCreateWebAPI}}
    </pre>
                                        </div>
                                    </li>
                                </ol>
                            </div>
                        </div>
                    </div>

                    <div class="panel panel-default">
                        <div class="panel-heading" role="tab" id="headingSeven">
                            <h4 class="panel-title" style="font-size: 14px;">
                                <a class="collapsed" role="button" data-toggle="collapse" data-parent="#accordion" href="#collapseSeven" aria-expanded="false" aria-controls="collapseSeven">
                                    <i class="intelicon-right-next"></i>
                                    Next we need to create an API controller.
                                    <div class="fr">
                                        (<a href="javascript:void(0);" (click)="navigateToSelectedLink({ text: 'Creating Web APIs', url: '#presentationWebApi' , bool: 'presentationWebApi'},'7_1')">Create an API Controller</a>)
                                    </div>
                                </a>
                            </h4>
                        </div>
                        <div id="collapseSeven" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingSeven">
                            <div class="panel-body">
                                <ol>
                                    <li>
                                        Open the <i>Intel.MyDeals</i> project and find the <b>Controllers</b> folder. Then locate the <b>API</b> folder<br />
                                        <img src="/Images/docs/projControllerAPI.png" style="margin: 10px 0;" />
                                    </li>
                                    <li>
                                        Add a new API Controller. To do this, right click on the <b>Controllers</b> folder and select <b>Add</b> -> <b>Controller</b>.<br />
                                        <img src="/Images/docs/addApiController.png" style="margin: 10px 0;" />
                                    </li>
                                    <li>
                                        Select the type of Controller. In the popup dialog, select <b>Web API 2 Controller - Empty</b>.<br />
                                        <img src="/Images/docs/addScaffoldAPI.png" style="margin: 10px 0;" />
                                    </li>
                                    <li>
                                        Enter the name of the Web API controller. In the popup dialog, enter the controller name but make sure to leave <b>Controller</b> at the end of the name.<br />
                                        <img src="/Images/docs/addApicontrollerDialog.png" style="margin: 10px 0;" />
                                    </li>
                                    <li>
                                        After the API controller is created, the appropriate Opaque calls and My Deals calls need to be added.<br />

                                        <div class="alert alert-info" role="alert" style="margin-top: 10px;">
                                            <strong>Route Tip!</strong> Web APIs will default to use the global router mapping defined for the application, but by proving a <b>[Route]</b> a specific URL address can be mapped to your Web API.
                                        </div>

                                        <div class="note">
                                            <strong>Note:</strong> Here is an example of an API controller for <b>Constants</b> called <i style="font-size: 12px;">GetConstants</i>.
                                        </div>
                                        <div class="noteBody">
                                            <pre class="preCustom">{{calledConstants}}</pre>
                                        </div>
                                    </li>
                                    <li>
                                        Want to try it out? <button class="btn btn-primary btnDesignFlows" type="button" (click)="testApi()" style="margin-left: 25px;">HealthCheck API</button>
                                                            <div id="resultsTestApi">
                                                                <div *ngIf="isErrorVisible">
                                                                    <div>{{reasonData}}</div>
                                                                </div>
                                                            </div>
                                    </li>
                                 </ol>
                            </div>
                        </div>
                    </div>

                    <div class="panel panel-default">
                        <div class="panel-heading" role="tab" id="headingEight">
                            <h4 class="panel-title" style="font-size: 14px;">
                                <a class="collapsed" role="button" data-toggle="collapse" data-parent="#accordion" href="#collapseEight" aria-expanded="false" aria-controls="collapseEight">
                                    <i class="intelicon-right-next"></i>
                                    Finally we can create a UI page to simply display our results.
                                    <div class="fr">
                                        (<a href="javascript:void(0);" (click)="navigateToSelectedLink({ text: 'Calling Web APIs', url: '#presentationCallWebApi' , bool: 'presentationCallWebApi'})">Calling a Web API</a>)
                                    </div>
                                </a>
                            </h4>
                        </div>
                        <div id="collapseEight" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingEight">
                            <div class="panel-body">
                                <ol>
                                    <li>
                                        Open the <b>constants</b> component from the <b>admin</b> folder under the path <b>Intel.MyDeals\Client\src\app\admin\constants\</b>.
                                    </li>
                                    <li>
                                        <p>
                                            For this example, a Kendo Grid control is populated by a datasource referencing the <b>/api/AdminConstants/v1/GetConstants</b> API.<br />
                                        </p>

                                        <div class="alert alert-info" role="alert">
                                            <strong>Note!</strong> In My Deals, the web client can use many different design techniques to call a Web API service.
                                            This description is just one of many ways to call a Web API.
                                        </div>

                                        <div class="note">
                                            <strong>Note:</strong> Here is an example of what code is generated for a store procedure:
                                        </div>
                                        <div class="noteBody">
                                            <pre class="preCustom">
{{generatedConstants}}
</pre>
                                        </div>
                                    </li>
                                </ol>
                            </div>
                        </div>
                    </div>

                    <div class="panel panel-default">
                        <div class="panel-heading" role="tab" id="headingNine">
                            <h4 class="panel-title" style="font-size: 14px;">
                                <a class="collapsed" role="button" data-toggle="collapse" data-parent="#accordion" href="#collapseNine" aria-expanded="false" aria-controls="collapseNine">
                                    <i class="intelicon-right-next"></i>
                                    That's it.  Now take a look at the results.
                                </a>
                            </h4>
                        </div>
                        <div id="collapseNine" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingNine">
                            <div class="panel-body">
                                <div style="padding: 15px;">
                                    <h1>Sample Constants Display</h1>
                                    <kendo-grid class="tableScope flowTableAlignment" [data]="constantsData" filterable="menu" style="height: auto!important;">
                                        <kendo-grid-column field="name" title="Name"> </kendo-grid-column>
                                        <kendo-grid-column field="description" title="Description">
                                        </kendo-grid-column>
                                        <kendo-grid-column field="value" title="Value"> </kendo-grid-column>
                                    </kendo-grid>
                                    <br />
                                </div>
                            </div>
                        </div>
                    </div>

                </div>

                <br /><br /><br />

            </div>
            <div id="dataFromApiWithCache">
                <h1><img src="/Images/docs/examples.png" height="60" />Managing data from a procedure with cache</h1>
                <p>
                    This example shows how to manage cache returned from an api.
                </p>
                <p>
                    When we want to cache any of the Api results, inform the client about the cached results and manage the cached data at api level, we can use the cache output.
                </p>

                <div class="stepByStep">
                    <i class="intelicon-task"></i>Step by Step
                </div>

                <ol>
                    <li>
                        Add CacheOutput attribute on the controller or action you want to cache the results.<br />
                        <div class="note"><strong>Note:</strong> Here is an example</div>
                        <div class="noteBody">
                            <pre class="preCustom">
                     {{cacheOutput}}
                     </pre>
                        </div>
                    </li>
                    <li>
                        Invalidate the cache on at controller level or action level<br />
                        <p>  Decorating the controller with [AutoInvalidateCacheOutput] will automatically flush all cached GET data from this controller after a successfull POST/PUT/DELETE request.</p>
                        <div class="note"><strong>Note:</strong> Here is an example</div>
                        <div class="noteBody">
                            <pre class="preCustom">
                     {{AutoInvalidateCacheOutput}}
                     </pre>
                        </div>
                        <p> Invalidation on action level is similar - done through attributes</p>
                        <div class="note"><strong>Note:</strong> Here is an example</div>
                        <div class="noteBody">

                            <pre class="preCustom">
                     {{throughAttributes}}
                     </pre>

                        </div>
                    </li>
                </ol>


                <br /><br /><br />
            </div>
        </div>
    </div>


