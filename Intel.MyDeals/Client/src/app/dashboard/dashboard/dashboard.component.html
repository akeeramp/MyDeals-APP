<link href="/Client/node_modules/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet" />
<link href="/Client/node_modules/@progress/kendo-theme-bootstrap/dist/all.css" rel="stylesheet" />
<link href="/Client/src/app/admin/kendo_grid.css" rel="stylesheet" />
<div class="overFlowWidget">
    <div class="container-fluid ">
        <div class="row" style="height: 25px;">
            <div class="col-md-12">
            </div>
        </div>
        <div class="row dashboard-header">
            <div class="col-md-8 left-inner-container" style="width: 100%;">
                <div class="fr row fl" style="width:100%">
                    <!--<div class="row">-->
                    <div class="col-md-2" style="width:30%"></div>
                    <div class="fr col-md-2" style="width: 17%; margin: 5px 5px 0 15px; color: #aaaaaa; font-size: 15px; ">
                        Customers: <i class="intelicon-find-a-person-solid"></i>
                    </div>
                    <div class="fr col-md-2" style="width:10%">
                        <kendo-multiselect class="fr opUiContainer md" style="width: 250px; margin-right: 7px;" #cmbmulti [data]="custData" textField="CUST_NM" valueField="CUST_SID" [(ngModel)]="selectedCustNames">
                        </kendo-multiselect>
                    </div>
                    <div class="fr col-md-3" style="width: 30%; color: #aaaaaa; font-size:15px">
                        Date Range:
                        <kendo-datepicker #picker [(value)]="startDateValue" calendarType="classic" [(ngModel)]="startDateValue">
                        </kendo-datepicker>

                        -

                        <kendo-datepicker #picker [(value)]="endDateValue" calendarType="classic" [(ngModel)]="endDateValue">
                        </kendo-datepicker>
                    </div>
                    <div class="fr col-md-1" style="width:1%">
                        <button (click)="refreshAllWidgets()" class="fr btn btn-default btn-sm intelicon-refresh" style="padding: 4px 6px;font-size:18px" title="Refresh Dashboard"></button>
                    </div>
                    <div class="fr col-md-1" style="width:1%">
                        <button (click)="openPopUp()" class="fr btn btn-default btn-sm intelicon-plus-max" style="padding: 4px 6px; font-size: 18px" title="Add Widget"></button>
                    </div>
                    <div class="fr col-md-1" style="width:2%">
                        <button (click)="defaultLayout()" class="fr btn btn-default btn-sm intelicon-dashboard-solid" style="padding: 4px 6px; font-size: 18px" title="Default Layout"></button>
                    </div>
                    <div class="fr col-md-1" style="width:3%">
                        <button (click)="showHelpTopic();" class="fr helpBtn intelicon-help" style="font-size: 30px !important; margin-left: 15px " title="Help"></button>
                    </div>

                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-md-12">
                <div style="width: 100vw; height: 100vh;">
                    <gridster [options]="options">
                        <gridster-item [item]="item" *ngFor="let item of dashboard; let indx = index">
                            <div class="widgetFull">
                                <div class="row widgetHeader">
                                    <div class="col-md-10">
                                        <b>{{item.name}}</b>
                                    </div>
                                    <div class="col-md-2 text-center">
                                        <a (click)="removeItem($event, item)" (touchstart)="removeItem($event, item)" class="btn-icons"><i
                                            class="intelicon-trash-outlined"></i></a>
                                        <a [hidden]="!item.canRefresh" class="btn-icons" (click)="refreshWidget(item)"><i class="intelicon-refresh"></i></a>
                                        <a [hidden]="!item.canSetting" (click)="openWidgetSettings(indx)" class="btn-icons"><i class="intelicon-settings-solid"></i></a>
                                    </div>
                                </div>
                                <div class="row" style="height:100%; width:100%">
                                    <div class="col-md-12" style="height:100%; width:100%">
                                        <app-dashboard-widget [widget]="item" [resizeEvent]="resizeEvent" [custIds]="selectedCustNames" [startDt]="startDateValue" [endDt]="endDateValue"></app-dashboard-widget>
                                    </div>
                                </div>
                            </div>
                        </gridster-item>
                    </gridster>
                </div>
            </div>
        </div>
    </div>
</div>
<kendo-window *ngIf="windowOpened" (close)="windowClose()" [minWidth]="windowMinWidth" [minHeight]="windowHeight" [width]="windowWidth" [top]="windowTop" [left]="windowLeft">
    <kendo-window-titlebar>
        <div class="k-window-title">Search Results </div><button kendoWindowCloseAction></button>
    </kendo-window-titlebar>
    <global-search-results-angular [searchText]="searchText" [opType]="opType" (getWindowWidth)="getWindowWidth($event)" (isWindowOpen)="isWindowOpen($event)"></global-search-results-angular>
</kendo-window>
<kendo-dialog *ngIf="searchDialogVisible" (close)="closeDialog()" [minWidth]="250" [width]="450">
    <p style="margin: 30px; text-align: center;">Please enter one of the following:<br /><br />1) Contract / Pricing Strategy / Pricing Table Name or Number <br />2) Deal Number. </p>
    <kendo-dialog-actions><button kendoButton (click)="closeDialog()">OK</button></kendo-dialog-actions>
</kendo-dialog>