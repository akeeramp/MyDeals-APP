<link href="/Client/node_modules/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet" />
<link href="/Client/node_modules/@progress/kendo-theme-bootstrap/dist/all.css" rel="stylesheet" />
<br />
<br />
<br />
<div class="row">
  <div class="col-md-12">
    <kendo-grid [data]="gridData" [loading]="isLoading" [pageSize]="state.take" [skip]="state.skip" [sort]="state.sort"
      [filter]="state.filter" [sortable]="true" [pageable]="{type:type,pageSizes: pageSizes,info:info}"
      [groupable]="false" [group]="state.group" filterable="menu" [height]="500"
      (dataStateChange)="dataStateChange($event)" (add)="addHandler($event)" (edit)="editHandler($event)"
      (cancel)="cancelHandler($event)" (save)="saveHandler($event)" [navigable]="true">
      <ng-template kendoGridToolbarTemplate>
        <button kendoGridAddCommand>Add new</button>
      </ng-template>
      <kendo-grid-command-column title="command" width="100">
        <ng-template kendoGridCellTemplate let-isNew="isNew">
          <button kendoGridEditCommand [primary]="true">Edit</button>
          <!-- <button kendoGridSaveCommand> -->
            <button kendoGridSaveCommand [disabled]="formGroup?.invalid">
            {{ isNew ? "Add" : "Update" }}
          </button>
          <button kendoGridCancelCommand>
            {{ isNew ? "Discard changes" : "Cancel" }}
          </button>
        </ng-template>
      </kendo-grid-command-column>
      <kendo-grid-column field="ACTV_IND" title="Is Active" editor="boolean" width="50" filter="boolean">
        <ng-template kendoGridCellTemplate let-dataItem>
          <input type="checkbox" [checked]="dataItem.ACTV_IND" disabled />
        </ng-template>
      </kendo-grid-column>
      <kendo-grid-column field="CUST_NM" title="Customer" width="100">
        <ng-template kendoGridEditTemplate let-dataItem="dataItem" let-formGroup="formGroup">
          <kendo-combobox #custDropDown [data]="distinctCust" [formControl]="formGroup.get('CUST_NM')">
          </kendo-combobox>
        </ng-template>

      </kendo-grid-column>
      <kendo-grid-column field="BUSNS_ORG_NM" title="Settlement Partner Name" width="200">
        <ng-template kendoGridFilterMenuTemplate let-column="column" let-filter="filter"
          let-filterService="filterService">
          <multicheck-filter [isPrimitive]="true" [field]="column.field" [currentFilter]="filter"
            [filterService]="filterService" [data]="distinctPrimitive(column.field)"></multicheck-filter>
        </ng-template>
        <ng-template kendoGridEditTemplate let-dataItem="dataItem" let-formGroup="formGroup">
          <kendo-combobox #catDropDown [data]="distinctPartner" [formControl]="formGroup.get('BUSNS_ORG_NM')">
          </kendo-combobox>
        </ng-template>
      </kendo-grid-column>
      <kendo-grid-column field="DROP_DOWN" title="Settlement Partner ID" width="100">
        <ng-template kendoGridFilterMenuTemplate let-column="column" let-filter="filter"
          let-filterService="filterService">
          <multicheck-filter [isPrimitive]="true" [field]="column.field" [currentFilter]="filter"
            [filterService]="filterService" [data]="distinctPrimitive(column.field)"></multicheck-filter>
        </ng-template>
        <ng-template kendoGridEditTemplate let-dataItem="dataItem" let-formGroup="formGroup">
          <kendo-combobox #partDropDown [data]="distinctPartId" [formControl]="formGroup.get('DROP_DOWN')">
          </kendo-combobox>
        </ng-template>
      </kendo-grid-column>
      <kendo-grid-column field="CTRY_CD" title="Country" width="100">
        <ng-template kendoGridFilterMenuTemplate let-column="column" let-filter="filter"
          let-filterService="filterService">
          <multicheck-filter [isPrimitive]="true" [field]="column.field" [currentFilter]="filter"
            [filterService]="filterService" [data]="distinctPrimitive(column.field)"></multicheck-filter>
        </ng-template>
        <ng-template kendoGridEditTemplate let-dataItem="dataItem" let-formGroup="formGroup">
          <kendo-combobox #countDropDown [data]="distinctCountry" [formControl]="formGroup.get('CTRY_CD')">
          </kendo-combobox>
        </ng-template>
      </kendo-grid-column>

    </kendo-grid>
    <kendo-dialog title="Please Fix" *ngIf="itemToSave" (close)="saveConfirmation(false)">
      <p style="margin: 30px; text-align: center;">Are you sure you want </p>
      <kendo-dialog-actions>
        <button class='k-button' (click)="saveConfirmation(false)">OK</button>
      </kendo-dialog-actions>
    </kendo-dialog>
  </div>
</div>
<div class="row">
  <div class="col-md-12">
    <div id="spreadsheet" style="width: 100%;"></div>
  </div>
</div>