@Html.Partial("TOC", new ViewDataDictionary
{
	{ "categoryTitle", "Coding tools" },
	{ "categoryAction", "CodingTools" },
	{ "sectionTitle", "Coding tools" },
	{ "sectionAction", "CodingTools" },
	{ "pageTitle", "Logging" }
})

<div id="mainBody" style="margin: 10px; padding: 0 20px 0 200px;">
	<h1><img src="/Images/docs/icon-code-tools.png" height="80" /> Logging</h1>
	<p>
		Logging also comes in various dgrees... some of which are DB, MT and UI logging.  There is local storage logging, in-memory logging and longterm storage logging.
	</p>
	<img src="/Images/docs/logging.png" style="margin: 10px 0 10px 25px;" />

	<h5>Logging in MyDeals</h5>
	<p>
		There are projects outside of MyDeals where commonly used features are being developed intended for all of BOS applications. We will consume some of these tools, one of which is logging.
		So, in My deals, we will implement a rudamentary logging feature that can easily be swapped out for the new tool when it is ready.
		With that in mind, please make sure you follow the logging practices.
	</p>

	<div class="stepByStep">
		Database Logging
	</div>
	<p>
		This section needs to be defined by the Database developers.
	</p>

	<div class="stepByStep">
		Middle Tier Logging
	</div>
	<p>
		In the Middle Tier, we use the logging class <b>OpLogPerf</b> in the <i>Intel.MyDeals.Opaque</i> project. Call the <b>Log()</b> function to log an event. 
		The middle tier will automatically log the SP name and paramters of successful calls to the database IF you use DataAccess.ExecuteDataSet() to call the db,
		so there is no need to call the log again unless you have other information to log. Log writers are turned off and on via the string passed in the global.asx.
	</p>
	<p>The following are the types of log writers that can be turned on:</p>
	<ul>
		<li>
			<b>FILE</b> - Logs to a txt file on the server. Default file location is under C:\Windows\TEMP\. File name will be prefixed with "FileLogPerf".  By default the db log writer will write 100 logs to a file at a time.*
		</li>
		<li>
			<b>DB</b> - Logs on the db. By default the db log writer will send 30 logs up to the db at a time.*
		</li>
		<li>
			<b>DEBUG</b> - Logs using System.Diagnostics.Debug.WriteLine()
		</li>
		<li>
			<b>EVENTLOG</b>	- Logs to the server's Windows Event Log under the EventLog "Opaque".
		</li>
		<li>
			<b>EMAIL</b> - Sends logs to a list of emails as a file attachment.*
		</li>
		<li>
			<b>EMAILEX</b> - Emails exceptions and other logs categorized as LogCategory.Error to a list of emails. 
		</li>
	</ul>
	<p style="font-size: 0.8em;">
		* Note that log writers that queue logs and bulk write to their writers are not foolproof. If the server or application rudely crashes, then chances are the most recent x logs queued to be written to the db have been lost.
	</p>

	<div class="note">
		<strong>Note:</strong> Here are some examples of calling <b>LogEvent</b>.
	</div>
	<div class="noteBody">
		<pre>        
				OpLogPerf.Log("Page loaded");  // This will default to a message with an information LogCategory.				
				OpLog.LogEvent("Stored Procedure Timed Out", LogCategory.Warning); // Logging with specified LogCategory. LogCategories to choose from are Information, Warning, and Error 
				OpLogPerf.Log(Ex); // Logging an exception
        </pre>
	</div>

</div>


